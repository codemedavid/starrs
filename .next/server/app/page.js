(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},89:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o});var a=s(7096),r=s(6132),l=s(7284),n=s.n(l),i=s(2564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3982)),"/Users/codemedavid/Documents/starrs/Starr-s-Famous-Shakes/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5345)),"/Users/codemedavid/Documents/starrs/Starr-s-Famous-Shakes/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/codemedavid/Documents/starrs/Starr-s-Famous-Shakes/app/page.tsx"],m="/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9043:(e,t,s)=>{Promise.resolve().then(s.bind(s,1140))},1140:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>page});var a=s(784),r=s(9885),l=s.n(r),n=s(5894),i=s(7739);let components_Header=({cartItemsCount:e,onCartClick:t,onMenuClick:s})=>{let{siteSettings:r,loading:l}=(0,i.h)();return a.jsx("header",{className:"sticky top-0 z-50 bg-starrs-mint/95 backdrop-blur-md border-b border-starrs-teal/30 shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 md:h-20",children:[(0,a.jsxs)("button",{onClick:s,className:"flex items-center space-x-2 md:space-x-3 text-starrs-teal-dark hover:text-starrs-teal-darker active:opacity-80 transition-colors duration-200 touch-manipulation",children:[l?a.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-starrs-teal-light rounded-full animate-pulse"}):a.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-starrs-teal-light rounded-full flex items-center justify-center ring-2 ring-starrs-teal/50 flex-shrink-0",children:a.jsx("img",{src:r?.site_logo||"/logo.jpg",alt:r?.site_name||"Starr's Famous Shakes",className:"w-8 h-8 md:w-10 md:h-10 rounded-full object-cover",onError:e=>{e.currentTarget.src="/logo.jpg"}})}),(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[a.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-starrs-teal-dark leading-tight",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:l?a.jsx("div",{className:"w-24 md:w-32 h-5 md:h-6 bg-starrs-teal-light rounded animate-pulse"}):"starr's"}),a.jsx("p",{className:"text-xs md:text-sm font-medium text-starrs-teal/80 -mt-0.5 md:-mt-1",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:"famous shakes"})]})]}),a.jsx("div",{className:"flex items-center space-x-1 md:space-x-2",children:(0,a.jsxs)("button",{onClick:t,className:"relative p-2 md:p-3 text-starrs-teal-dark hover:text-starrs-teal-darker hover:bg-starrs-teal-light active:bg-starrs-teal-light rounded-full transition-all duration-200 touch-manipulation","aria-label":"Shopping cart",children:[a.jsx(n.Z,{className:"h-5 w-5 md:h-6 md:w-6"}),e>0&&a.jsx("span",{className:"absolute -top-0.5 -right-0.5 md:-top-1 md:-right-1 bg-starrs-green text-white text-[10px] md:text-xs rounded-full h-5 w-5 md:h-6 md:w-6 flex items-center justify-center animate-bounce-gentle font-semibold shadow-lg",children:e})]})})]})})})};var d=s(9231),o=s(2385),c=s(3528);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,c.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var x=s(6206);let components_MenuItemCard=({item:e,onAddToCart:t,quantity:s,onUpdateQuantity:l})=>{let[i,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(e.variations?.[0]),[h,p]=(0,r.useState)([]),calculatePrice=()=>{let t=e.effectivePrice||e.basePrice;return c&&(t=(e.effectivePrice||e.basePrice)+c.price),h.forEach(e=>{t+=e.price*e.quantity}),t},handleAddToCart=()=>{e.variations?.length||e.addOns?.length?d(!0):t(e,1)},handleIncrement=()=>{l(e.id,s+1)},handleDecrement=()=>{s>0&&l(e.id,s-1)},updateAddOnQuantity=(e,t)=>{p(s=>{let a=s.findIndex(t=>t.id===e.id);if(0===t)return s.filter(t=>t.id!==e.id);if(!(a>=0))return[...s,{...e,quantity:t}];{let e=[...s];return e[a]={...e[a],quantity:t},e}})},b=e.addOns?.reduce((e,t)=>{let s=t.category;return e[s]||(e[s]=[]),e[s].push(t),e},{}),getMinPrice=()=>{if(e.isOnDiscount&&e.discountPrice)return e.discountPrice;if(e.variations&&e.variations.length>0){let t=Math.min(...e.variations.map(e=>e.price));return(e.effectivePrice||e.basePrice)+t}return e.effectivePrice||e.basePrice};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:`flex flex-col ${e.available?"":"opacity-60"}`,children:[(0,a.jsxs)("div",{className:`relative aspect-square rounded-2xl overflow-hidden transition-all duration-200 ${e.available?"cursor-pointer active:scale-[0.98]":"cursor-not-allowed"}`,style:{backgroundColor:"#00704A"},onClick:e.available?()=>{}:void 0,children:[e.image?a.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300",loading:"lazy",decoding:"async",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,a.jsx("div",{className:`absolute inset-0 flex items-center justify-center ${e.image?"hidden":""}`,children:a.jsx("div",{className:"text-4xl md:text-6xl opacity-30 text-white",children:"\uD83E\uDD64"})}),(e.isOnDiscount||e.popular)&&(0,a.jsxs)("div",{className:"absolute top-3 left-3 z-10",children:[e.isOnDiscount&&e.discountPrice&&a.jsx("span",{className:"inline-block bg-orange-500 text-white text-[10px] font-semibold px-2 py-0.5 rounded",children:"SALE"}),e.popular&&!e.isOnDiscount&&a.jsx("span",{className:"inline-block bg-orange-500 text-white text-[10px] font-semibold px-2 py-0.5 rounded",children:"POPULAR"})]}),e.available&&a.jsx("div",{className:"absolute bottom-3 right-3 z-10",children:0===s?a.jsx("button",{onClick:e=>{e.stopPropagation(),handleAddToCart()},className:"w-12 h-12 rounded-full bg-white shadow-[0_2px_8px_rgba(0,0,0,0.15)] flex items-center justify-center transition-all duration-200 hover:shadow-[0_4px_12px_rgba(0,0,0,0.2)] active:scale-95 touch-manipulation","aria-label":"Add to cart",children:a.jsx(o.Z,{className:"h-5 w-5 text-[#1E1E1E]",strokeWidth:2.5})}):(0,a.jsxs)("div",{className:"flex items-center gap-1.5 bg-white rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.15)] px-1 py-1 touch-manipulation",children:[a.jsx("button",{onClick:e=>{e.stopPropagation(),handleDecrement()},className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition-colors duration-200 active:scale-90","aria-label":"Decrease quantity",children:a.jsx(m,{className:"h-4 w-4 text-[#1E1E1E]",strokeWidth:2.5})}),a.jsx("span",{className:"font-semibold text-[#1E1E1E] text-sm min-w-[20px] text-center",children:s}),a.jsx("button",{onClick:e=>{e.stopPropagation(),handleIncrement()},className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition-colors duration-200 active:scale-90","aria-label":"Increase quantity",children:a.jsx(o.Z,{className:"h-4 w-4 text-[#1E1E1E]",strokeWidth:2.5})})]})})]}),(0,a.jsxs)("div",{className:"mt-2 space-y-1",children:[a.jsx("h4",{className:"text-[18px] font-semibold text-[#1E1E1E] leading-tight line-clamp-2",style:{fontWeight:600},children:e.name}),a.jsx("p",{className:"text-[16px] text-[#666666]",style:{fontWeight:400},children:e.variations&&e.variations.length>0?(0,a.jsxs)(a.Fragment,{children:["from â‚±",getMinPrice().toFixed(2)]}):e.isOnDiscount&&e.discountPrice?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"text-[#000000]",children:["â‚±",e.discountPrice.toFixed(2)]}),e.basePrice!==e.discountPrice&&(0,a.jsxs)("span",{className:"text-[#666666] line-through ml-2",children:["â‚±",e.basePrice.toFixed(2)]})]}):(0,a.jsxs)(a.Fragment,{children:["from â‚±",getMinPrice().toFixed(2)]})})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border-2 border-starrs-teal/20",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-starrs-mint-light to-starrs-teal-light border-b border-starrs-teal/30 p-6 flex items-center justify-between rounded-t-2xl",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-starrs-teal-dark",children:["Customize ",e.name]}),a.jsx("p",{className:"text-sm text-starrs-teal-dark/70 mt-1 font-medium",children:"Choose your preferences"})]}),a.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-starrs-teal/20 rounded-full transition-colors duration-200",children:a.jsx(x.Z,{className:"h-5 w-5 text-starrs-teal-dark"})})]}),(0,a.jsxs)("div",{className:"p-6",children:[e.variations&&e.variations.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-bold text-starrs-teal-dark mb-4",children:"Choose Flavor"}),a.jsx("div",{className:"space-y-3",children:e.variations.map(t=>(0,a.jsxs)("label",{className:`flex items-center justify-between p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 ${c?.id===t.id?"border-starrs-teal bg-starrs-teal-light":"border-starrs-teal/30 hover:border-starrs-teal hover:bg-starrs-mint-light"}`,children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"radio",name:"variation",checked:c?.id===t.id,onChange:()=>u(t),className:"text-starrs-teal focus:ring-starrs-teal"}),a.jsx("span",{className:"font-semibold text-starrs-teal-dark",children:t.name})]}),(0,a.jsxs)("span",{className:"text-starrs-teal-dark font-bold",children:["â‚±",((e.effectivePrice||e.basePrice)+t.price).toFixed(2)]})]},t.id))})]}),b&&Object.keys(b).length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-bold text-starrs-teal-dark mb-4",children:"Add-ons"}),Object.entries(b).map(([e,t])=>(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("h5",{className:"text-sm font-semibold text-starrs-teal-dark/80 mb-3 capitalize",children:e.replace("-"," ")}),a.jsx("div",{className:"space-y-3",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-2 border-starrs-teal/20 rounded-xl hover:border-starrs-teal hover:bg-starrs-mint-light transition-all duration-200",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("span",{className:"font-semibold text-starrs-teal-dark",children:e.name}),a.jsx("div",{className:"text-sm text-starrs-teal-dark/70",children:e.price>0?`â‚±${e.price.toFixed(2)} each`:"Free"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:h.find(t=>t.id===e.id)?(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-starrs-teal-light rounded-xl p-1 border-2 border-starrs-teal/30",children:[a.jsx("button",{type:"button",onClick:()=>{let t=h.find(t=>t.id===e.id);updateAddOnQuantity(e,(t?.quantity||1)-1)},className:"p-1.5 hover:bg-starrs-teal/20 rounded-lg transition-colors duration-200",children:a.jsx(m,{className:"h-3 w-3 text-starrs-teal-dark"})}),a.jsx("span",{className:"font-semibold text-starrs-teal-dark min-w-[24px] text-center text-sm",children:h.find(t=>t.id===e.id)?.quantity||0}),a.jsx("button",{type:"button",onClick:()=>{let t=h.find(t=>t.id===e.id);updateAddOnQuantity(e,(t?.quantity||0)+1)},className:"p-1.5 hover:bg-starrs-teal/20 rounded-lg transition-colors duration-200",children:a.jsx(o.Z,{className:"h-3 w-3 text-starrs-teal-dark"})})]}):(0,a.jsxs)("button",{type:"button",onClick:()=>updateAddOnQuantity(e,1),className:"flex items-center space-x-1 px-4 py-2 bg-gradient-to-r from-starrs-teal to-starrs-teal-dark text-white rounded-xl hover:from-starrs-teal-dark hover:to-starrs-teal-darker transition-all duration-200 text-sm font-semibold shadow-lg",children:[a.jsx(o.Z,{className:"h-3 w-3"}),a.jsx("span",{children:"Add"})]})})]},e.id))})]},e))]}),a.jsx("div",{className:"border-t-2 border-starrs-teal/20 pt-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-2xl font-bold text-starrs-teal-dark",children:[a.jsx("span",{children:"Total:"}),(0,a.jsxs)("span",{className:"text-starrs-green",children:["â‚±",calculatePrice().toFixed(2)]})]})}),(0,a.jsxs)("button",{onClick:()=>{let s=h.flatMap(e=>Array(e.quantity).fill({...e,quantity:void 0}));t(e,1,c,s),d(!1),p([])},className:"w-full bg-gradient-to-r from-starrs-teal to-starrs-teal-dark text-white py-4 rounded-xl hover:from-starrs-teal-dark hover:to-starrs-teal-darker transition-all duration-200 font-semibold flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105",children:[a.jsx(n.Z,{className:"h-5 w-5"}),(0,a.jsxs)("span",{children:["Add to Cart - â‚±",calculatePrice().toFixed(2)]})]})]})]})})]})},components_MobileNav=({activeCategory:e,onCategoryClick:t})=>{let{categories:s}=(0,d.L)();return a.jsx("div",{className:"sticky top-16 z-40 bg-starrs-mint/95 backdrop-blur-sm border-b border-starrs-teal/30 md:hidden shadow-sm",children:a.jsx("div",{className:"flex overflow-x-auto scrollbar-hide px-4 py-3",children:s.map(s=>(0,a.jsxs)("button",{onClick:()=>t(s.id),className:`flex-shrink-0 flex items-center space-x-2 px-4 py-2 rounded-full mr-3 transition-all duration-200 ${e===s.id?"bg-starrs-teal text-white shadow-md":"bg-white/80 text-starrs-teal-dark border border-starrs-teal/30 hover:bg-starrs-teal-light"}`,children:[a.jsx("span",{className:"text-lg",children:s.icon}),a.jsx("span",{className:"text-sm font-semibold whitespace-nowrap",children:s.name})]},s.id))})})},preloadImages=e=>{e.forEach(e=>{if(e.image){let t=new Image;t.src=e.image}})},components_Menu=({menuItems:e,addToCart:t,cartItems:s,updateQuantity:r})=>{let{categories:n}=(0,d.L)(),[i,o]=l().useState("hot-coffee");return l().useEffect(()=>{if(e.length>0){let t=e.filter(e=>e.category===i);preloadImages(t),setTimeout(()=>{let t=e.filter(e=>e.category!==i);preloadImages(t)},1e3)}},[e,i]),l().useEffect(()=>{if(n.length>0){let e=n.find(e=>"dim-sum"===e.id)||n[0];n.find(e=>e.id===i)||o(e.id)}},[n,i]),l().useEffect(()=>{let handleScroll=()=>{let e=n.map(e=>document.getElementById(e.id)).filter(Boolean),t=window.scrollY+200;for(let s=e.length-1;s>=0;s--){let a=e[s];if(a&&a.offsetTop<=t){o(n[s].id);break}}};return window.addEventListener("scroll",handleScroll),()=>window.removeEventListener("scroll",handleScroll)},[n]),(0,a.jsxs)(a.Fragment,{children:[a.jsx(components_MobileNav,{activeCategory:i,onCategoryClick:e=>{o(e);let t=document.getElementById(e);if(t){let e=t.offsetTop-134;window.scrollTo({top:e,behavior:"smooth"})}}}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-6 md:py-12",children:[(0,a.jsxs)("div",{className:"text-center mb-6 md:mb-12",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-starrs-teal-dark mb-2 md:mb-4",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:"Our Menu"}),a.jsx("p",{className:"text-sm sm:text-base md:text-lg text-starrs-teal-dark/80 max-w-2xl mx-auto font-medium px-2",children:"Discover our premium milkshakes, decadent bake & shake creations, and refreshing yogurt-based options, all crafted with the finest ingredients."})]}),n.map(l=>{let n=e.filter(e=>e.category===l.id);return 0===n.length?null:(0,a.jsxs)("section",{id:l.id,className:"mb-8 md:mb-16",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4 md:mb-8",children:[a.jsx("span",{className:"text-3xl md:text-4xl mr-3 md:mr-4",children:l.icon}),a.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-starrs-teal-dark",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:l.name})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:n.map(e=>{let l=s.find(t=>t.id===e.id);return a.jsx(components_MenuItemCard,{item:e,onAddToCart:t,quantity:l?.quantity||0,onUpdateQuantity:r},e.id)})})]},l.id)})]})]})};var u=s(9803),h=s(6303);let components_Cart=({cartItems:e,updateQuantity:t,removeFromCart:s,clearCart:r,getTotalPrice:l,onContinueShopping:n,onCheckout:i})=>0===e.length?a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:(0,a.jsxs)("div",{className:"text-center py-16",children:[a.jsx("div",{className:"text-6xl mb-4",children:"\uD83E\uDD64"}),a.jsx("h2",{className:"text-2xl font-bold text-starrs-teal-dark mb-2",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:"Your cart is empty"}),a.jsx("p",{className:"text-starrs-teal-dark/70 mb-6 font-medium",children:"Add some delicious shakes to get started!"}),a.jsx("button",{onClick:n,className:"bg-starrs-teal text-white px-6 py-3 rounded-full hover:bg-starrs-teal-dark transition-all duration-200 font-semibold shadow-lg",children:"Browse Menu"})]})}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("button",{onClick:n,className:"flex items-center space-x-2 text-starrs-teal-dark hover:text-starrs-teal-darker transition-colors duration-200 font-medium",children:[a.jsx(u.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Continue Shopping"})]}),a.jsx("h1",{className:"text-3xl font-bold text-starrs-teal-dark",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:"Your Cart"}),a.jsx("button",{onClick:r,className:"text-starrs-green hover:text-starrs-green-dark transition-colors duration-200 font-medium",children:"Clear All"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-md border-2 border-starrs-teal/20 overflow-hidden mb-8",children:e.map((r,l)=>a.jsx("div",{className:`p-6 ${l!==e.length-1?"border-b border-starrs-teal/20":""}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-bold text-starrs-teal-dark mb-1",children:r.name}),r.selectedVariation&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["Size: ",r.selectedVariation.name]}),r.selectedAddOns&&r.selectedAddOns.length>0&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["Add-ons: ",r.selectedAddOns.map(e=>e.quantity&&e.quantity>1?`${e.name} x${e.quantity}`:e.name).join(", ")]}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-starrs-teal-dark",children:["â‚±",r.totalPrice," each"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 ml-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 bg-starrs-teal-light rounded-full p-1 border-2 border-starrs-teal/30",children:[a.jsx("button",{onClick:()=>t(r.id,r.quantity-1),className:"p-2 hover:bg-starrs-teal/20 rounded-full transition-colors duration-200",children:a.jsx(m,{className:"h-4 w-4 text-starrs-teal-dark"})}),a.jsx("span",{className:"font-semibold text-starrs-teal-dark min-w-[32px] text-center",children:r.quantity}),a.jsx("button",{onClick:()=>t(r.id,r.quantity+1),className:"p-2 hover:bg-starrs-teal/20 rounded-full transition-colors duration-200",children:a.jsx(o.Z,{className:"h-4 w-4 text-starrs-teal-dark"})})]}),a.jsx("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"text-lg font-semibold text-starrs-teal-dark",children:["â‚±",r.totalPrice*r.quantity]})}),a.jsx("button",{onClick:()=>s(r.id),className:"p-2 text-starrs-green hover:text-starrs-green-dark hover:bg-starrs-green/10 rounded-full transition-all duration-200",children:a.jsx(h.Z,{className:"h-4 w-4"})})]})]})},r.id))}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md border-2 border-starrs-teal/20 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-2xl font-bold text-starrs-teal-dark mb-6",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:[a.jsx("span",{children:"Total:"}),(0,a.jsxs)("span",{className:"text-starrs-green",children:["â‚±",(l()||0).toFixed(2)]})]}),a.jsx("button",{onClick:i,className:"w-full bg-gradient-to-r from-starrs-teal to-starrs-teal-dark text-white py-4 rounded-xl hover:from-starrs-teal-dark hover:to-starrs-teal-darker transition-all duration-200 transform hover:scale-[1.02] font-semibold text-lg shadow-lg",children:"Proceed to Checkout"})]})]});var p=s(5441),b=s(9518);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,c.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var f=s(7918),j=s(1463),y=s(6883),v=s(2054);let components_Checkout=({cartItems:e,totalPrice:t,onBack:s})=>{let{paymentMethods:n}=(0,f.E)(),{createOrder:d}=(0,j.y)(),[o,c]=(0,r.useState)("details"),[m,x]=(0,r.useState)(!1),[h,N]=(0,r.useState)(null),[k,w]=(0,r.useState)(""),[C,P]=(0,r.useState)(""),[S,_]=(0,r.useState)("dine-in"),[q,E]=(0,r.useState)(""),[$,D]=(0,r.useState)(""),[A,F]=(0,r.useState)(!1),[O,T]=(0,r.useState)(-1),I=(0,r.useRef)(null),M=(0,r.useRef)(null),{suggestions:L,loading:V,error:Z}=(0,y.l)("delivery"===S?$:""),[z,B]=(0,r.useState)(""),[Q,R]=(0,r.useState)("5-10"),[U,X]=(0,r.useState)(""),[W,Y]=(0,r.useState)("gcash"),[H,G]=(0,r.useState)(""),[J,K]=(0,r.useState)(""),[ee,et]=(0,r.useState)(null),[es,ea]=(0,r.useState)(null),[er,el]=(0,r.useState)(null),[en,ei]=(0,r.useState)("PHP"),[ed,eo]=(0,r.useState)(!1),[ec,em]=(0,r.useState)(null),{siteSettings:ex}=(0,i.h)(),eu=(0,r.useMemo)(()=>(0,v.lN)(ex),[ex]);l().useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[o]),l().useEffect(()=>{n.length>0&&!W&&Y(n[0].id)},[n,W]),l().useEffect(()=>{L.length>0&&$.length>=3&&"delivery"===S&&F(!0)},[L,$,S]);let eh=n.find(e=>e.id===W),ep="delivery"===S?es??0:0,eb=t+ep,eg=ed?"Calculating...":ec?"Unavailable":null!==es?`â‚±${es}`:"Pending",handlePlaceOrder=async()=>{x(!0),N(null);try{let t=await d(e,k,C,S,W,eb,{address:"delivery"===S?q:void 0,landmark:"delivery"===S?z:void 0,pickupTime:"pickup"===S?"custom"===Q?U:`${Q} minutes`:void 0,referenceNumber:H||void 0,notes:J||void 0,deliveryFee:"delivery"===S?es??void 0:void 0,lalamoveQuotationId:"delivery"===S?er??void 0:void 0,deliveryLat:"delivery"===S?ee?.lat:void 0,deliveryLng:"delivery"===S?ee?.lng:void 0}),s="pickup"===S?"custom"===Q?U:`${Q} minutes`:"",a=`
ðŸ›’ Starr's Famous Shakes ORDER
ðŸ“¦ Order Number: ${t.order_number}

ðŸ‘¤ Customer: ${k}
ðŸ“ž Contact: ${C}
ðŸ“ Service: ${S.charAt(0).toUpperCase()+S.slice(1)}
 ${"delivery"===S?`ðŸ  Address: ${q}${z?`
ðŸ—ºï¸ Landmark: ${z}`:""}`:""}
${"pickup"===S?`â° Pickup Time: ${s}`:""}
ðŸ“‹ ORDER DETAILS:
${e.map(e=>{let t=`â€¢ ${e.name}`;return e.selectedVariation&&(t+=` (${e.selectedVariation.name})`),e.selectedAddOns&&e.selectedAddOns.length>0&&(t+=` + ${e.selectedAddOns.map(e=>e.quantity&&e.quantity>1?`${e.name} x${e.quantity}`:e.name).join(", ")}`),t+=` x${e.quantity} - â‚±${e.totalPrice*e.quantity}`}).join("\n")}

ðŸ’° TOTAL: â‚±${eb}
${"delivery"===S?`ðŸ›µ DELIVERY FEE: ${eg}`:""}

ðŸ’³ Payment: ${eh?.name||W}
ðŸ“¸ Payment Screenshot: Please attach your payment receipt screenshot

${J?`ðŸ“ Notes: ${J}`:""}

Please confirm this order to proceed. Thank you for choosing Starr's Famous Shakes! ðŸ¥Ÿ
      `.trim(),r=encodeURIComponent(a),l=`https://m.me/StarrsFamousShakes?text=${r}`;alert(`Order placed successfully!

Order Number: ${t.order_number}

You will now be redirected to Messenger to confirm your order.`),window.open(l,"_blank")}catch(t){console.error("Error placing order:",t);let e=t instanceof Error?t.message:"Failed to place order. Please try again.";N(e),e.includes("Rate limit")||e.includes("wait")?alert(`âš ï¸ ${e}

Please wait before trying again.`):alert(`âŒ ${e}`)}finally{x(!1)}},handleAddressSelect=e=>{E(e.display_name),D(e.display_name),F(!1),T(-1);let t=parseFloat(e.lat),s=parseFloat(e.lon);Number.isNaN(t)||Number.isNaN(s)?et(null):et({lat:t,lng:s})};(0,r.useEffect)(()=>{let handleClickOutside=e=>{I.current&&!I.current.contains(e.target)&&M.current&&!M.current.contains(e.target)&&F(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)},[]),(0,r.useEffect)(()=>{"delivery"!==S&&(D(""),F(!1),E(""),et(null),ea(null),el(null),em(null))},[S]),(0,r.useEffect)(()=>{if("delivery"!==S||!q||!ee||!eu){ea(null),el(null),em(null),eo(!1),ei("PHP");return}let e=!1;eo(!0),em(null);let fetchQuote=async()=>{try{let t=await (0,v.$Y)(q,ee,eu);if(e)return;ea(t.price),el(t.quotationId),ei(t.currency)}catch(t){if(e)return;console.error("Failed to fetch delivery quote:",t),ea(null),el(null),em(t instanceof Error?t.message:"Unable to calculate delivery fee"),ei("PHP")}finally{e||eo(!1)}};return fetchQuote(),()=>{e=!0}},[S,q,ee,eu]);let ef=k&&C&&("delivery"!==S||q&&null!==es)&&("pickup"!==S||"custom"!==Q||U);return"details"===o?(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-8",children:[(0,a.jsxs)("button",{onClick:s,className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors duration-200",children:[a.jsx(u.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Back to Cart"})]}),a.jsx("h1",{className:"text-3xl font-noto font-semibold text-black ml-8",children:"Order Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-2xl font-noto font-medium text-black mb-6",children:"Order Summary"}),a.jsx("div",{className:"space-y-4 mb-6",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-red-100",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-black",children:e.name}),e.selectedVariation&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Size: ",e.selectedVariation.name]}),e.selectedAddOns&&e.selectedAddOns.length>0&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Add-ons: ",e.selectedAddOns.map(e=>e.name).join(", ")]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["â‚±",e.totalPrice," x ",e.quantity]})]}),(0,a.jsxs)("span",{className:"font-semibold text-black",children:["â‚±",e.totalPrice*e.quantity]})]},e.id))}),"delivery"===S&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 border-t border-red-200 pt-4",children:[(0,a.jsxs)("span",{children:["Delivery Fee (",en,")"]}),a.jsx("span",{className:"font-semibold text-black",children:eg})]}),"delivery"===S&&ec&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:ec}),a.jsx("div",{className:"border-t border-red-200 pt-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-2xl font-noto font-semibold text-black",children:[a.jsx("span",{children:"Total:"}),(0,a.jsxs)("span",{children:["â‚±",eb]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-2xl font-noto font-medium text-black mb-6",children:"Customer Information"}),(0,a.jsxs)("form",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",value:k,onChange:e=>w(e.target.value),className:"w-full px-4 py-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your full name",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Contact Number *"}),a.jsx("input",{type:"tel",value:C,onChange:e=>{let t=e.target.value.replace(/\D/g,"");t.length>0&&(t.startsWith("63")||(t.startsWith("0")?t="63"+t.slice(1):(t.startsWith("9"),t="63"+t)),t.length>13&&(t=t.slice(0,13))),P(t)},className:"w-full px-4 py-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"63XXXXXXXXXX",required:!0}),C&&!C.startsWith("63")&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Phone number will be normalized to start with 63"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-3",children:"Service Type *"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"dine-in",label:"Dine In",icon:"\uD83E\uDE91"},{value:"pickup",label:"Pickup",icon:"\uD83D\uDEB6"},{value:"delivery",label:"Delivery",icon:"\uD83D\uDEF5"}].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>_(e.value),className:`p-4 rounded-lg border-2 transition-all duration-200 ${S===e.value?"border-red-600 bg-red-600 text-white":"border-red-300 bg-white text-gray-700 hover:border-red-400"}`,children:[a.jsx("div",{className:"text-2xl mb-1",children:e.icon}),a.jsx("div",{className:"text-sm font-medium",children:e.label})]},e.value))})]}),"pickup"===S&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-3",children:"Pickup Time *"}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"5-10",label:"5-10 minutes"},{value:"15-20",label:"15-20 minutes"},{value:"25-30",label:"25-30 minutes"},{value:"custom",label:"Custom Time"}].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>R(e.value),className:`p-3 rounded-lg border-2 transition-all duration-200 text-sm ${Q===e.value?"border-red-600 bg-red-600 text-white":"border-red-300 bg-white text-gray-700 hover:border-red-400"}`,children:[a.jsx(p.Z,{className:"h-4 w-4 mx-auto mb-1"}),e.label]},e.value))}),"custom"===Q&&a.jsx("input",{type:"text",value:U,onChange:e=>X(e.target.value),className:"w-full px-4 py-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., 45 minutes, 1 hour, 2:30 PM",required:!0})]})]}),"delivery"===S&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Delivery Address *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:a.jsx(b.Z,{className:"h-5 w-5"})}),a.jsx("input",{ref:I,type:"text",value:$,onChange:e=>{let t=e.target.value;D(t),E(t),F(!0),T(-1),et(null)},onKeyDown:e=>{if(A&&0!==L.length)switch(e.key){case"ArrowDown":e.preventDefault(),T(e=>e<L.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),T(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),O>=0&&O<L.length&&handleAddressSelect(L[O]);break;case"Escape":F(!1),T(-1)}},onFocus:()=>F(!0),className:"w-full pl-10 pr-10 py-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"Search address, village, barangay, or landmark...",required:!0}),V&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx(g,{className:"h-5 w-5 text-red-600 animate-spin"})})]}),A&&$.length>=3&&(0,a.jsxs)("div",{ref:M,className:"absolute z-50 w-full mt-1 bg-white border border-red-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[Z&&(0,a.jsxs)("div",{className:"p-3 text-sm text-red-600 border-b border-red-100",children:[Z,a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can still enter your address manually."})]}),!Z&&0===L.length&&!V&&a.jsx("div",{className:"p-3 text-sm text-gray-500 text-center",children:"No addresses found. You can enter your address manually."}),L.map((e,t)=>{let s=(()=>{if(e.address.house_number&&e.address.road)return`${e.address.house_number} ${e.address.road}`;if(e.address.amenity||e.address.shop||e.address.tourism){let t=e.address.amenity||e.address.shop||e.address.tourism;if(t)return t.charAt(0).toUpperCase()+t.slice(1).replace(/_/g," ")}return e.address.road?e.address.road:e.address.barangay||e.address.village?e.address.barangay||e.address.village||"":e.display_name.split(",")[0]})(),r=[e.address.barangay||e.address.village,e.address.suburb,e.address.neighbourhood,e.address.city||e.address.town||e.address.municipality,e.address.province||e.address.state].filter(Boolean),l=r.length>0?r.join(", ")+(e.address.postcode?` ${e.address.postcode}`:""):e.display_name.split(",").slice(1).join(",").trim();return(0,a.jsxs)("button",{type:"button",onClick:()=>handleAddressSelect(e),className:`w-full text-left px-4 py-3 hover:bg-red-50 transition-colors duration-200 border-b border-red-100 last:border-b-0 ${t===O?"bg-red-50":""}`,children:[a.jsx("div",{className:"font-medium text-black text-sm",children:s}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:l}),(e.address.amenity||e.address.shop||e.address.tourism)&&a.jsx("div",{className:"text-xs text-red-600 mt-1 font-medium",children:"\uD83D\uDCCD Landmark"})]},e.place_id)})]}),$.length>0&&$.length<3&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Type at least 3 characters to search"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Landmark"}),a.jsx("input",{type:"text",value:z,onChange:e=>B(e.target.value),className:"w-full px-4 py-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., Near McDonald's, Beside 7-Eleven, In front of school"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Special Instructions"}),a.jsx("textarea",{value:J,onChange:e=>K(e.target.value),className:"w-full px-4 py-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"Any special requests or notes...",rows:3})]}),a.jsx("button",{onClick:()=>{c("payment")},disabled:!ef,className:`w-full py-4 rounded-xl font-medium text-lg transition-all duration-200 transform ${ef?"bg-red-600 text-white hover:bg-red-700 hover:scale-[1.02]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Proceed to Payment"})]})]})]})]}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-8",children:[(0,a.jsxs)("button",{onClick:()=>c("details"),className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors duration-200",children:[a.jsx(u.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Back to Details"})]}),a.jsx("h1",{className:"text-3xl font-noto font-semibold text-black ml-8",children:"Payment"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-2xl font-noto font-medium text-black mb-6",children:"Choose Payment Method"}),a.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:n.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>Y(e.id),className:`p-4 rounded-lg border-2 transition-all duration-200 flex items-center space-x-3 ${W===e.id?"border-red-600 bg-red-600 text-white":"border-red-300 bg-white text-gray-700 hover:border-red-400"}`,children:[a.jsx("span",{className:"text-2xl",children:"\uD83D\uDCB3"}),a.jsx("span",{className:"font-medium",children:e.name})]},e.id))}),eh&&(0,a.jsxs)("div",{className:"bg-red-50 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"font-medium text-black mb-4",children:"Payment Details"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:eh.name}),a.jsx("p",{className:"font-mono text-black font-medium",children:eh.account_number}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["Account Name: ",eh.account_name]}),(0,a.jsxs)("p",{className:"text-xl font-semibold text-black",children:["Amount: â‚±",eb]})]}),(0,a.jsxs)("div",{className:"flex-shrink-0",children:[a.jsx("img",{src:eh.qr_code_url,alt:`${eh.name} QR Code`,className:"w-32 h-32 rounded-lg border-2 border-red-300 shadow-sm",onError:e=>{e.currentTarget.src="https://images.pexels.com/photos/8867482/pexels-photo-8867482.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop"}}),a.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Scan to pay"})]})]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-black mb-2",children:"\uD83D\uDCF8 Payment Proof Required"}),a.jsx("p",{className:"text-sm text-gray-700",children:"After making your payment, please take a screenshot of your payment receipt and attach it when you send your order via Messenger. This helps us verify and process your order quickly."})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-2xl font-noto font-medium text-black mb-6",children:"Final Order Summary"}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-red-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-black mb-2",children:"Customer Details"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Name: ",k]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Contact: ",C]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Service: ",S.charAt(0).toUpperCase()+S.slice(1)]}),"delivery"===S&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Address: ",q]}),z&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Landmark: ",z]})]}),"pickup"===S&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Pickup Time: ","custom"===Q?U:`${Q} minutes`]})]}),e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-red-100",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-black",children:e.name}),e.selectedVariation&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Size: ",e.selectedVariation.name]}),e.selectedAddOns&&e.selectedAddOns.length>0&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Add-ons: ",e.selectedAddOns.map(e=>e.quantity&&e.quantity>1?`${e.name} x${e.quantity}`:e.name).join(", ")]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["â‚±",e.totalPrice," x ",e.quantity]})]}),(0,a.jsxs)("span",{className:"font-semibold text-black",children:["â‚±",e.totalPrice*e.quantity]})]},e.id))]}),"delivery"===S&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 border-b border-red-100 pb-2 mb-2",children:[(0,a.jsxs)("span",{children:["Delivery Fee (",en,")"]}),a.jsx("span",{className:"font-semibold text-black",children:eg})]}),"delivery"===S&&ec&&a.jsx("p",{className:"text-xs text-red-600 mb-3",children:ec}),a.jsx("div",{className:"border-t border-red-200 pt-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-2xl font-noto font-semibold text-black",children:[a.jsx("span",{children:"Total:"}),(0,a.jsxs)("span",{children:["â‚±",eb]})]})}),h&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:h})}),a.jsx("button",{onClick:handlePlaceOrder,disabled:m,className:`w-full py-4 rounded-xl font-medium text-lg transition-all duration-200 transform ${m?"bg-gray-400 text-white cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700 hover:scale-[1.02]"}`,children:m?"Placing Order...":"Place Order via Messenger"}),a.jsx("p",{className:"text-xs text-gray-500 text-center mt-3",children:"You'll be redirected to Facebook Messenger to confirm your order. Don't forget to attach your payment screenshot!"})]})]})]})},components_FloatingCartButton=({itemCount:e,onCartClick:t})=>0===e?null:a.jsx("button",{onClick:t,className:"fixed bottom-6 right-6 bg-gradient-to-r from-starrs-teal to-starrs-teal-dark text-white p-4 rounded-full shadow-lg hover:from-starrs-teal-dark hover:to-starrs-teal-darker transition-all duration-200 transform hover:scale-110 z-40 md:hidden",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(n.Z,{className:"h-6 w-6"}),a.jsx("span",{className:"absolute -top-2 -right-2 bg-starrs-green text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-bold shadow-md",children:e})]})}),useCart=()=>{let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(!1),l=(0,r.useCallback)((e,t,s)=>{let a=e.basePrice;return t&&(a+=t.price),s&&s.forEach(e=>{a+=e.price}),a},[]),n=(0,r.useCallback)((e,s=1,a,r)=>{let n=l(e,a,r),i=r?.reduce((e,t)=>{let s=e.find(e=>e.id===t.id);return s?s.quantity=(s.quantity||1)+1:e.push({...t,quantity:1}),e},[]);t(t=>{let l=t.find(t=>t.id===e.id&&t.selectedVariation?.id===a?.id&&JSON.stringify(t.selectedAddOns?.map(e=>`${e.id}-${e.quantity||1}`).sort())===JSON.stringify(i?.map(e=>`${e.id}-${e.quantity}`).sort()));if(l)return t.map(e=>e===l?{...e,quantity:e.quantity+s}:e);{let l=`${e.id}-${a?.id||"default"}-${r?.map(e=>e.id).join(",")||"none"}`;return[...t,{...e,id:l,quantity:s,selectedVariation:a,selectedAddOns:i||[],totalPrice:n}]}})},[l]),i=(0,r.useCallback)((e,s)=>{if(s<=0){t(t=>t.filter(t=>t.id!==e));return}t(t=>t.map(t=>t.id===e?{...t,quantity:s}:t))},[]),d=(0,r.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),o=(0,r.useCallback)(()=>{t([])},[]),c=(0,r.useCallback)(()=>e.reduce((e,t)=>e+t.totalPrice*t.quantity,0),[e]),m=(0,r.useCallback)(()=>e.reduce((e,t)=>e+t.quantity,0),[e]),x=(0,r.useCallback)(()=>a(!0),[]),u=(0,r.useCallback)(()=>a(!1),[]);return{cartItems:e,isCartOpen:s,addToCart:n,updateQuantity:i,removeFromCart:d,clearCart:o,getTotalPrice:c,getTotalItems:m,openCart:x,closeCart:u}};var N=s(4556);let page=()=>{let e=useCart(),{menuItems:t}=(0,N.H)(),[s,r]=l().useState("menu"),handleViewChange=e=>{r(e)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-starrs-mint-light to-starrs-cream-light font-inter",children:[a.jsx(components_Header,{cartItemsCount:e.getTotalItems(),onCartClick:()=>handleViewChange("cart"),onMenuClick:()=>handleViewChange("menu")}),"menu"===s&&a.jsx(components_Menu,{menuItems:t,addToCart:e.addToCart,cartItems:e.cartItems,updateQuantity:e.updateQuantity}),"cart"===s&&a.jsx(components_Cart,{cartItems:e.cartItems,updateQuantity:e.updateQuantity,removeFromCart:e.removeFromCart,clearCart:e.clearCart,getTotalPrice:e.getTotalPrice,onContinueShopping:()=>handleViewChange("menu"),onCheckout:()=>handleViewChange("checkout")}),"checkout"===s&&a.jsx(components_Checkout,{cartItems:e.cartItems,totalPrice:e.getTotalPrice(),onBack:()=>handleViewChange("cart")}),"menu"===s&&a.jsx(components_FloatingCartButton,{itemCount:e.getTotalItems(),onCartClick:()=>handleViewChange("cart")})]})}},3982:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>d});var a=s(5153);let r=(0,a.createProxy)(String.raw`/Users/codemedavid/Documents/starrs/Starr-s-Famous-Shakes/app/page.tsx`),{__esModule:l,$$typeof:n}=r,i=r.default,d=i}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[472,894,93,296],()=>__webpack_exec__(89));module.exports=s})();