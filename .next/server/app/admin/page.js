(()=>{var e={};e.id=3,e.ids=[3],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},847:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c});var t=a(7096),r=a(6132),l=a(7284),n=a.n(l),d=a(2564),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);a.d(s,i);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3729)),"/Users/codemedavid/Documents/starrs/Starr-s-Famous-Shakes/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,5345)),"/Users/codemedavid/Documents/starrs/Starr-s-Famous-Shakes/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/codemedavid/Documents/starrs/Starr-s-Famous-Shakes/app/admin/page.tsx"],m="/admin/page",x={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7032:(e,s,a)=>{Promise.resolve().then(a.bind(a,5797))},5797:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>page});var t=a(784),r=a(9885),l=a.n(r),n=a(3294),d=a(9803),i=a(6206),c=a(2995),o=a(2385),m=a(6303),x=a(4010),h=a(2593),u=a(7004),g=a(7),p=a(5894),b=a(5693),y=a(8260),j=a(5987);let f=[{id:"spice",name:"Spice Level"},{id:"protein",name:"Extra Protein"},{id:"sauce",name:"Sauces"},{id:"extras",name:"Extras"}];var v=a(4556),N=a(9231),w=a(1463),_=a(443),k=a(6315),C=a(5413);let useImageUpload=()=>{let[e,s]=(0,r.useState)(!1),[a,t]=(0,r.useState)(0),uploadImage=async e=>{try{if(s(!0),t(0),!["image/jpeg","image/png","image/webp","image/gif"].includes(e.type))throw Error("Please upload a valid image file (JPEG, PNG, WebP, or GIF)");if(e.size>5242880)throw Error("Image size must be less than 5MB");let a=e.name.split(".").pop(),r=`${Date.now()}-${Math.random().toString(36).substring(2)}.${a}`,l=setInterval(()=>{t(e=>e>=90?(clearInterval(l),90):e+10)},100),{data:n,error:d}=await C.O.storage.from("menu-images").upload(r,e,{cacheControl:"3600",upsert:!1,contentType:e.type});if(clearInterval(l),t(100),d)throw d;let{data:{publicUrl:i}}=C.O.storage.from("menu-images").getPublicUrl(n.path);return i}catch(e){throw console.error("Error uploading image:",e),e}finally{s(!1),setTimeout(()=>t(0),1e3)}},deleteImage=async e=>{try{let s=e.split("/"),a=s[s.length-1],{error:t}=await C.O.storage.from("menu-images").remove([a]);if(t)throw t}catch(e){throw console.error("Error deleting image:",e),e}};return{uploadImage,deleteImage,uploading:e,uploadProgress:a}},components_ImageUpload=({currentImage:e,onImageChange:s,className:a=""})=>{let l=(0,r.useRef)(null),{uploadImage:n,deleteImage:d,uploading:c,uploadProgress:o}=useImageUpload(),handleFileSelect=async e=>{let a=e.target.files?.[0];if(a){try{let e=await n(a);s(e)}catch(e){alert(e instanceof Error?e.message:"Failed to upload image")}l.current&&(l.current.value="")}},handleRemoveImage=async()=>{if(e)try{await d(e),s(void 0)}catch(e){console.error("Error removing image:",e),s(void 0)}},triggerFileSelect=()=>{l.current?.click()};return(0,t.jsxs)("div",{className:`space-y-4 ${a}`,children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Menu Item Image"}),e?(0,t.jsxs)("div",{className:"relative",children:[t.jsx("img",{src:e,alt:"Menu item preview",className:"w-full h-48 object-cover rounded-lg border border-gray-300 transition-opacity duration-300",loading:"lazy",decoding:"async",onError:e=>{e.currentTarget.style.display="none"},onLoad:e=>{e.currentTarget.style.opacity="1"},style:{opacity:0}}),t.jsx("button",{type:"button",onClick:handleRemoveImage,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",disabled:c,children:t.jsx(i.Z,{className:"h-4 w-4"})})]}):t.jsx("div",{onClick:triggerFileSelect,className:"w-full h-48 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-gray-400 hover:bg-gray-50 transition-all duration-200",children:c?(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-black mx-auto mb-2"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Uploading... ",o,"%"]}),t.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:"bg-black h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(_.Z,{className:"h-12 w-12 text-gray-400 mb-2"}),t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Click to upload image"}),t.jsx("p",{className:"text-xs text-gray-500",children:"JPEG, PNG, WebP, GIF (max 5MB)"})]})}),t.jsx("input",{ref:l,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:handleFileSelect,className:"hidden",disabled:c}),!e&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("button",{type:"button",onClick:triggerFileSelect,disabled:c,className:"flex items-center space-x-2 px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(k.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Upload Image"})]}),t.jsx("span",{className:"text-sm text-gray-500",children:"or enter URL below"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or enter image URL"}),t.jsx("input",{type:"url",value:e||"",onChange:e=>s(e.target.value||void 0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"https://example.com/image.jpg",disabled:c})]})]})};var S=a(4856);let components_CategoryManager=({onBack:e})=>{let{categories:s,addCategory:a,updateCategory:l,deleteCategory:n,reorderCategories:h}=(0,N.L)(),[u,g]=(0,r.useState)("list"),[p,b]=(0,r.useState)(null),[y,j]=(0,r.useState)({id:"",name:"",icon:"☕",sort_order:0,active:!0}),handleAddCategory=()=>{let e=Math.max(...s.map(e=>e.sort_order),0)+1;j({id:"",name:"",icon:"☕",sort_order:e,active:!0}),g("add")},handleEditCategory=e=>{b(e),j({id:e.id,name:e.name,icon:e.icon,sort_order:e.sort_order,active:e.active}),g("edit")},handleDeleteCategory=async e=>{if(confirm("Are you sure you want to delete this category? This action cannot be undone."))try{await n(e)}catch(e){alert(e instanceof Error?e.message:"Failed to delete category")}},handleSaveCategory=async()=>{if(!y.id||!y.name||!y.icon){alert("Please fill in all required fields");return}if(!/^[a-z0-9]+(-[a-z0-9]+)*$/.test(y.id)){alert('Category ID must be in kebab-case format (e.g., "hot-drinks", "cold-beverages")');return}try{p?await l(p.id,y):await a(y),g("list"),b(null)}catch(e){alert(e instanceof Error?e.message:"Failed to save category")}},handleCancel=()=>{g("list"),b(null)},generateIdFromName=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),handleNameChange=e=>{j({...y,name:e,id:"add"===u?generateIdFromName(e):y.id})};return"add"===u||"edit"===u?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:handleCancel,className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors duration-200",children:[t.jsx(d.Z,{className:"h-5 w-5"}),t.jsx("span",{children:"Back"})]}),t.jsx("h1",{className:"text-2xl font-playfair font-semibold text-black",children:"add"===u?"Add New Category":"Edit Category"})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)("button",{onClick:handleCancel,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2",children:[t.jsx(i.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Cancel"})]}),(0,t.jsxs)("button",{onClick:handleSaveCategory,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2",children:[t.jsx(c.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Save"})]})]})]})})}),t.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Category Name *"}),t.jsx("input",{type:"text",value:y.name,onChange:e=>handleNameChange(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Enter category name"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Category ID *"}),t.jsx("input",{type:"text",value:y.id,onChange:e=>j({...y,id:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"kebab-case-id",disabled:"edit"===u}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"edit"===u?"Category ID cannot be changed after creation":'Use kebab-case format (e.g., "hot-drinks", "cold-beverages")'})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Icon *"}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"text",value:y.icon,onChange:e=>j({...y,icon:e.target.value}),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter emoji or icon"}),t.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center text-2xl",children:y.icon})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use an emoji or icon character (e.g., ☕, \uD83E\uDDCA, \uD83E\uDED6, \uD83E\uDD50)"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Sort Order"}),t.jsx("input",{type:"number",value:y.sort_order,onChange:e=>j({...y,sort_order:Number(e.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first in the menu"})]}),t.jsx("div",{className:"flex items-center",children:(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:y.active,onChange:e=>j({...y,active:e.target.checked}),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),t.jsx("span",{className:"text-sm font-medium text-black",children:"Active Category"})]})})]})})})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:e,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:[t.jsx(d.Z,{className:"h-5 w-5"}),t.jsx("span",{children:"Dashboard"})]}),t.jsx("h1",{className:"text-2xl font-playfair font-semibold text-black",children:"Manage Categories"})]}),(0,t.jsxs)("button",{onClick:handleAddCategory,className:"flex items-center space-x-2 bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:[t.jsx(o.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Add Category"})]})]})})}),t.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:t.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:(0,t.jsxs)("div",{className:"p-6",children:[t.jsx("h2",{className:"text-lg font-playfair font-medium text-black mb-4",children:"Categories"}),0===s.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-gray-500 mb-4",children:"No categories found"}),t.jsx("button",{onClick:handleAddCategory,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Add First Category"})]}):t.jsx("div",{className:"space-y-3",children:s.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400 cursor-move",children:[t.jsx(S.Z,{className:"h-4 w-4"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["#",e.sort_order]})]}),t.jsx("div",{className:"text-2xl",children:e.icon}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-medium text-black",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.active?"Active":"Inactive"}),t.jsx("button",{onClick:()=>handleEditCategory(e),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors duration-200",children:t.jsx(x.Z,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>handleDeleteCategory(e.id),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors duration-200",children:t.jsx(m.Z,{className:"h-4 w-4"})})]})]},e.id))})]})})})]})};var I=a(7918);let components_PaymentMethodManager=({onBack:e})=>{let{paymentMethods:s,addPaymentMethod:a,updatePaymentMethod:n,deletePaymentMethod:h,refetchAll:u}=(0,I.E)(),[g,p]=(0,r.useState)("list"),[b,j]=(0,r.useState)(null),[f,v]=(0,r.useState)({id:"",name:"",account_number:"",account_name:"",qr_code_url:"",active:!0,sort_order:0});l().useEffect(()=>{u()},[u]);let handleAddMethod=()=>{let e=Math.max(...s.map(e=>e.sort_order),0)+1;v({id:"",name:"",account_number:"",account_name:"",qr_code_url:"",active:!0,sort_order:e}),p("add")},handleEditMethod=e=>{j(e),v({id:e.id,name:e.name,account_number:e.account_number,account_name:e.account_name,qr_code_url:e.qr_code_url,active:e.active,sort_order:e.sort_order}),p("edit")},handleDeleteMethod=async e=>{if(confirm("Are you sure you want to delete this payment method?"))try{await h(e)}catch(e){alert(e instanceof Error?e.message:"Failed to delete payment method")}},handleSaveMethod=async()=>{if(!f.id||!f.name||!f.account_number||!f.account_name||!f.qr_code_url){alert("Please fill in all required fields");return}if(!/^[a-z0-9]+(-[a-z0-9]+)*$/.test(f.id)){alert('Payment method ID must be in kebab-case format (e.g., "gcash", "bank-transfer")');return}try{b?await n(b.id,f):await a(f),p("list"),j(null)}catch(e){alert(e instanceof Error?e.message:"Failed to save payment method")}},handleCancel=()=>{p("list"),j(null)},generateIdFromName=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),handleNameChange=e=>{v({...f,name:e,id:"add"===g?generateIdFromName(e):f.id})};return"add"===g||"edit"===g?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:handleCancel,className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors duration-200",children:[t.jsx(d.Z,{className:"h-5 w-5"}),t.jsx("span",{children:"Back"})]}),t.jsx("h1",{className:"text-2xl font-playfair font-semibold text-black",children:"add"===g?"Add Payment Method":"Edit Payment Method"})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)("button",{onClick:handleCancel,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2",children:[t.jsx(i.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Cancel"})]}),(0,t.jsxs)("button",{onClick:handleSaveMethod,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2",children:[t.jsx(c.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Save"})]})]})]})})}),t.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Payment Method Name *"}),t.jsx("input",{type:"text",value:f.name,onChange:e=>handleNameChange(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"e.g., GCash, Maya, Bank Transfer"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Method ID *"}),t.jsx("input",{type:"text",value:f.id,onChange:e=>v({...f,id:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"kebab-case-id",disabled:"edit"===g}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"edit"===g?"Method ID cannot be changed after creation":'Use kebab-case format (e.g., "gcash", "bank-transfer")'})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Account Number/Phone *"}),t.jsx("input",{type:"text",value:f.account_number,onChange:e=>v({...f,account_number:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"09XX XXX XXXX or Account: 1234-5678-9012"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Account Name *"}),t.jsx("input",{type:"text",value:f.account_name,onChange:e=>v({...f,account_name:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"M&C Bakehouse"})]}),t.jsx("div",{children:t.jsx(components_ImageUpload,{currentImage:f.qr_code_url,onImageChange:e=>v({...f,qr_code_url:e||""})})}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Sort Order"}),t.jsx("input",{type:"number",value:f.sort_order,onChange:e=>v({...f,sort_order:Number(e.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first in the checkout"})]}),t.jsx("div",{className:"flex items-center",children:(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:f.active,onChange:e=>v({...f,active:e.target.checked}),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),t.jsx("span",{className:"text-sm font-medium text-black",children:"Active Payment Method"})]})})]})})})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:e,className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors duration-200",children:[t.jsx(d.Z,{className:"h-5 w-5"}),t.jsx("span",{children:"Dashboard"})]}),t.jsx("h1",{className:"text-2xl font-playfair font-semibold text-black",children:"Payment Methods"})]}),(0,t.jsxs)("button",{onClick:handleAddMethod,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:[t.jsx(o.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Add Payment Method"})]})]})})}),t.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:t.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:(0,t.jsxs)("div",{className:"p-6",children:[t.jsx("h2",{className:"text-lg font-playfair font-medium text-black mb-4",children:"Payment Methods"}),0===s.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(y.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"No payment methods found"}),t.jsx("button",{onClick:handleAddMethod,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Add First Payment Method"})]}):t.jsx("div",{className:"space-y-4",children:s.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("img",{src:e.qr_code_url,alt:`${e.name} QR Code`,className:"w-16 h-16 rounded-lg border border-gray-300 object-cover",onError:e=>{e.currentTarget.src="https://images.pexels.com/photos/8867482/pexels-photo-8867482.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop"}})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-medium text-black",children:e.name}),t.jsx("p",{className:"text-sm text-gray-600",children:e.account_number}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Account: ",e.account_name]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:["ID: ",e.id," • Order: #",e.sort_order]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.active?"Active":"Inactive"}),t.jsx("button",{onClick:()=>handleEditMethod(e),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors duration-200",children:t.jsx(x.Z,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>handleDeleteMethod(e.id),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors duration-200",children:t.jsx(m.Z,{className:"h-4 w-4"})})]})]},e.id))})]})})})]})};var D=a(7739),A=a(6883);let components_SiteSettingsManager=()=>{let{siteSettings:e,loading:s,updateSiteSettings:a}=(0,D.h)(),{uploadImage:n,uploading:d}=useImageUpload(),[o,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)({site_name:"",site_description:"",currency:"",currency_code:"",lalamove_market:"",lalamove_service_type:"",lalamove_sandbox:"true",lalamove_api_key:"",lalamove_api_secret:"",lalamove_store_name:"",lalamove_store_phone:"",lalamove_store_address:"",lalamove_store_latitude:"",lalamove_store_longitude:""}),[u,g]=(0,r.useState)(null),[p,b]=(0,r.useState)(""),[y,j]=(0,r.useState)(""),[f,v]=(0,r.useState)(!1),[N,w]=(0,r.useState)(-1),_=(0,r.useRef)(null),C=(0,r.useRef)(null),{suggestions:S,loading:I,error:P}=(0,A.l)(o?y:"");l().useEffect(()=>{e&&(h({site_name:e.site_name,site_description:e.site_description,currency:e.currency,currency_code:e.currency_code,lalamove_market:e.lalamove_market||"",lalamove_service_type:e.lalamove_service_type||"",lalamove_sandbox:e.lalamove_sandbox||"true",lalamove_api_key:e.lalamove_api_key||"",lalamove_api_secret:e.lalamove_api_secret||"",lalamove_store_name:e.lalamove_store_name||"",lalamove_store_phone:e.lalamove_store_phone||"",lalamove_store_address:e.lalamove_store_address||"",lalamove_store_latitude:e.lalamove_store_latitude||"",lalamove_store_longitude:e.lalamove_store_longitude||""}),b(e.site_logo),j(e.lalamove_store_address||""),v(!1),w(-1))},[e]),(0,r.useEffect)(()=>{let handleClickOutside=e=>{_.current&&!_.current.contains(e.target)&&C.current&&!C.current.contains(e.target)&&(v(!1),w(-1))};return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)},[]),(0,r.useEffect)(()=>{o||(v(!1),w(-1))},[o]);let handleInputChange=e=>{let{name:s,value:a}=e.target;h(e=>({...e,[s]:a}))},handleStoreAddressInputChange=e=>{h(s=>({...s,lalamove_store_address:e})),j(e),v(!0),w(-1)},handleStoreAddressSelect=e=>{h(s=>({...s,lalamove_store_address:e.display_name,lalamove_store_latitude:e.lat,lalamove_store_longitude:e.lon})),j(e.display_name),v(!1),w(-1)},handleSave=async()=>{try{let e=p;if(u){let s=await n(u);e=s}await a({site_name:x.site_name,site_description:x.site_description,currency:x.currency,currency_code:x.currency_code,site_logo:e,lalamove_market:x.lalamove_market,lalamove_service_type:x.lalamove_service_type,lalamove_sandbox:x.lalamove_sandbox,lalamove_api_key:x.lalamove_api_key,lalamove_api_secret:x.lalamove_api_secret,lalamove_store_name:x.lalamove_store_name,lalamove_store_phone:x.lalamove_store_phone,lalamove_store_address:x.lalamove_store_address,lalamove_store_latitude:x.lalamove_store_latitude,lalamove_store_longitude:x.lalamove_store_longitude}),m(!1),g(null)}catch(e){console.error("Error saving site settings:",e)}};return s?t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})}):(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-noto font-semibold text-black",children:"Site Settings"}),o?(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)("button",{onClick:()=>{e&&(h({site_name:e.site_name,site_description:e.site_description,currency:e.currency,currency_code:e.currency_code,lalamove_market:e.lalamove_market||"",lalamove_service_type:e.lalamove_service_type||"",lalamove_sandbox:e.lalamove_sandbox||"true",lalamove_api_key:e.lalamove_api_key||"",lalamove_api_secret:e.lalamove_api_secret||"",lalamove_store_name:e.lalamove_store_name||"",lalamove_store_phone:e.lalamove_store_phone||"",lalamove_store_address:e.lalamove_store_address||"",lalamove_store_latitude:e.lalamove_store_latitude||"",lalamove_store_longitude:e.lalamove_store_longitude||""}),b(e.site_logo),j(e.lalamove_store_address||"")),m(!1),g(null)},className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 flex items-center space-x-2",children:[t.jsx(i.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Cancel"})]}),(0,t.jsxs)("button",{onClick:handleSave,disabled:d,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center space-x-2 disabled:opacity-50",children:[t.jsx(c.Z,{className:"h-4 w-4"}),t.jsx("span",{children:d?"Saving...":"Save Changes"})]})]}):(0,t.jsxs)("button",{onClick:()=>m(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center space-x-2",children:[t.jsx(c.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Edit Settings"})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Logo"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:p?t.jsx("img",{src:p,alt:"Site Logo",className:"w-full h-full object-cover"}):t.jsx("div",{className:"text-2xl text-gray-400",children:"☕"})}),o&&(0,t.jsxs)("div",{children:[t.jsx("input",{type:"file",accept:"image/*",onChange:e=>{let s=e.target.files?.[0];if(s){g(s);let e=new FileReader;e.onload=e=>{b(e.target?.result)},e.readAsDataURL(s)}},className:"hidden",id:"logo-upload"}),(0,t.jsxs)("label",{htmlFor:"logo-upload",className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors duration-200 flex items-center space-x-2 cursor-pointer",children:[t.jsx(k.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Upload Logo"})]})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Name"}),o?t.jsx("input",{type:"text",name:"site_name",value:x.site_name,onChange:handleInputChange,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter site name"}):t.jsx("p",{className:"text-lg font-medium text-black",children:e?.site_name})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Description"}),o?t.jsx("textarea",{name:"site_description",value:x.site_description,onChange:handleInputChange,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter site description"}):t.jsx("p",{className:"text-gray-600",children:e?.site_description})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency Symbol"}),o?t.jsx("input",{type:"text",name:"currency",value:x.currency,onChange:handleInputChange,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"e.g., ₱, $, €"}):t.jsx("p",{className:"text-lg font-medium text-black",children:e?.currency})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency Code"}),o?t.jsx("input",{type:"text",name:"currency_code",value:x.currency_code,onChange:handleInputChange,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"e.g., PHP, USD, EUR"}):t.jsx("p",{className:"text-lg font-medium text-black",children:e?.currency_code})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-100 pt-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-black",children:"Delivery / Lalamove"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Set the Lalamove market, credentials, and store pickup location used by the delivery feature."})]})}),o?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Lalamove Market",t.jsx("input",{type:"text",name:"lalamove_market",value:x.lalamove_market,onChange:handleInputChange,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"PH"})]}),(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Service Type",t.jsx("input",{type:"text",name:"lalamove_service_type",value:x.lalamove_service_type,onChange:handleInputChange,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"MOTORCYCLE"})]}),(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Sandbox Mode",(0,t.jsxs)("select",{name:"lalamove_sandbox",value:x.lalamove_sandbox,onChange:handleInputChange,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[t.jsx("option",{value:"true",children:"Sandbox"}),t.jsx("option",{value:"false",children:"Production"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["API Key",t.jsx("input",{type:"text",name:"lalamove_api_key",value:x.lalamove_api_key,onChange:handleInputChange,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["API Secret",t.jsx("input",{type:"password",name:"lalamove_api_secret",value:x.lalamove_api_secret,onChange:handleInputChange,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Store Name",t.jsx("input",{type:"text",name:"lalamove_store_name",value:x.lalamove_store_name,onChange:handleInputChange,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Store Phone",t.jsx("input",{type:"text",name:"lalamove_store_phone",value:x.lalamove_store_phone,onChange:handleInputChange,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Store Address",(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{ref:_,type:"text",name:"lalamove_store_address",value:x.lalamove_store_address,onChange:e=>handleStoreAddressInputChange(e.target.value),onFocus:()=>v(!0),onKeyDown:e=>{if(f&&0!==S.length)switch(e.key){case"ArrowDown":e.preventDefault(),w(e=>e<S.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),w(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),N>=0&&N<S.length&&handleStoreAddressSelect(S[N]);break;case"Escape":e.preventDefault(),v(!1),w(-1)}},className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Search store address..."}),I&&t.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:t.jsx("span",{className:"text-xs text-gray-500",children:"Loading..."})}),f&&y.trim().length>=3&&(0,t.jsxs)("div",{ref:C,className:"absolute z-50 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[P&&t.jsx("div",{className:"p-3 text-xs text-red-600 border-b border-gray-100",children:P}),!P&&0===S.length&&!I&&t.jsx("div",{className:"p-3 text-xs text-gray-500",children:"No addresses found."}),S.map((e,s)=>(0,t.jsxs)("button",{type:"button",onClick:()=>handleStoreAddressSelect(e),className:`w-full text-left px-4 py-3 border-b border-gray-100 text-sm ${s===N?"bg-gray-100":"hover:bg-gray-50"}`,children:[t.jsx("p",{className:"font-medium text-black",children:e.display_name.split(",")[0]}),t.jsx("p",{className:"text-xs text-gray-500",children:e.display_name})]},e.place_id))]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Store Latitude",t.jsx("input",{type:"number",step:"0.000001",name:"lalamove_store_latitude",value:x.lalamove_store_latitude,onChange:handleInputChange,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Store Longitude",t.jsx("input",{type:"number",step:"0.000001",name:"lalamove_store_longitude",value:x.lalamove_store_longitude,onChange:handleInputChange,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]})]}):(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-2 text-sm text-gray-600",children:[(0,t.jsxs)("p",{children:["Market: ",e?.lalamove_market||"Not configured"]}),(0,t.jsxs)("p",{children:["Service Type: ",e?.lalamove_service_type||"Not configured"]}),(0,t.jsxs)("p",{children:["Sandbox Mode: ",e?.lalamove_sandbox==="false"?"Production":"Sandbox"]}),(0,t.jsxs)("p",{children:["API Key: ",e?.lalamove_api_key?"Configured":"Not set"]}),(0,t.jsxs)("p",{children:["API Secret: ",e?.lalamove_api_secret?"Configured":"Not set"]}),(0,t.jsxs)("p",{children:["Store Name: ",e?.lalamove_store_name||"Not set"]}),(0,t.jsxs)("p",{children:["Store Phone: ",e?.lalamove_store_phone||"Not set"]}),(0,t.jsxs)("p",{children:["Store Address: ",e?.lalamove_store_address||"Not set"]}),(0,t.jsxs)("p",{children:["Store Latitude: ",e?.lalamove_store_latitude||"Not set"]}),(0,t.jsxs)("p",{children:["Store Longitude: ",e?.lalamove_store_longitude||"Not set"]})]})]})]})]})};var P=a(644),Z=a(5441),E=a(2032),M=a(3303),O=a(9518),L=a(9816),F=a(8168),$=a(9815),T=a(5688),q=a(1057),U=a(6908);let components_OrderManager=({onBack:e})=>{let{orders:s,loading:a,fetchOrders:l,updateOrderStatus:n,bulkUpdateStatus:i,getOrderStats:c}=(0,w.y)(),[o,m]=(0,r.useState)([]),[x,h]=(0,r.useState)({}),[g,p]=(0,r.useState)(""),[b,y]=(0,r.useState)("all"),[j,f]=(0,r.useState)("all"),[v,N]=(0,r.useState)("all"),[_,k]=(0,r.useState)({total_orders:0,pending_orders:0,today_orders:0,today_revenue:0,completed_orders:0,cancelled_orders:0}),[C,S]=(0,r.useState)(!1),[I,D]=(0,r.useState)(null),[A,R]=(0,r.useState)(!0),[z,B]=(0,r.useState)(!1),V=(0,r.useRef)(!0),G=(0,r.useCallback)(async()=>{try{let e=await c();k(e)}catch(e){console.error("Error loading stats:",e)}},[c]);(0,r.useEffect)(()=>{let applyFilters=async()=>{let e={};"all"!==j&&(e.status=j),"all"!==v&&(e.service_type=v),g&&(e.search=g);let s=new Date;if("today"===b){let a=new Date(s.getFullYear(),s.getMonth(),s.getDate());e.date_from=a.toISOString(),e.date_to=new Date(a.getTime()+864e5).toISOString()}else if("week"===b){let a=new Date(s.getTime()-6048e5);e.date_from=a.toISOString()}else if("month"===b){let a=new Date(s.getTime()-2592e6);e.date_from=a.toISOString()}h(e),await l(e)};V.current&&(V.current=!1),applyFilters()},[j,v,g,b]),(0,r.useEffect)(()=>{G();let e=setInterval(()=>{A&&G()},1e4);return()=>clearInterval(e)},[A,G]);let handleStatusChange=async(e,s)=>{try{S(!0),await n(e,s),m([]),await G(),await l(x)}catch(e){alert(e instanceof Error?e.message:"Failed to update order status")}finally{S(!1)}},handleRefresh=async()=>{B(!0);try{await Promise.all([G(),l(x)])}catch(e){console.error("Error refreshing:",e)}finally{B(!1)}},handleBulkStatusChange=async e=>{if(0===o.length){alert("Please select orders to update");return}if(confirm(`Are you sure you want to update ${o.length} order(s) to "${e}"?`))try{S(!0),await i(o,e),m([]),G().catch(e=>console.error("Error loading stats:",e)),alert(`Successfully updated ${o.length} order(s)`)}catch(e){alert(e instanceof Error?e.message:"Failed to update orders")}finally{S(!1)}},handleSelectOrder=e=>{m(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},getStatusColor=e=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",confirmed:"bg-blue-100 text-blue-800 border-blue-200",preparing:"bg-orange-100 text-orange-800 border-orange-200",ready:"bg-green-100 text-green-800 border-green-200",out_for_delivery:"bg-purple-100 text-purple-800 border-purple-200",completed:"bg-emerald-100 text-emerald-800 border-emerald-200",cancelled:"bg-red-100 text-red-800 border-red-200"})[e]||"bg-gray-100 text-gray-800 border-gray-200",formatDate=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),X=["pending","confirmed","preparing","ready","out_for_delivery","completed","cancelled"];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex items-center justify-between h-16",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:e,className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors duration-200",children:[t.jsx(d.Z,{className:"h-5 w-5"}),t.jsx("span",{children:"Dashboard"})]}),t.jsx("h1",{className:"text-2xl font-playfair font-semibold text-black",children:"Order Management"})]})})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[(0,t.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Orders Overview"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[s.length," ",1===s.length?"order":"orders"," found"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{onClick:handleRefresh,disabled:z,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[t.jsx(P.Z,{className:`h-4 w-4 ${z?"animate-spin":""}`}),t.jsx("span",{children:"Refresh"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 bg-green-50 border border-green-200 rounded-lg px-3 py-2",children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${A?"bg-green-500 animate-pulse":"bg-gray-400"}`}),t.jsx("span",{className:"text-sm text-green-700 font-medium",children:A?"Live":"Paused"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Total Orders"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:_.total_orders})]}),t.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:t.jsx(u.Z,{className:"h-5 w-5 text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:_.pending_orders})]}),t.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:t.jsx(Z.Z,{className:"h-5 w-5 text-yellow-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Today's Orders"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:_.today_orders})]}),t.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:t.jsx(E.Z,{className:"h-5 w-5 text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Today's Revenue"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["₱",_.today_revenue.toLocaleString()]})]}),t.jsx("div",{className:"p-3 bg-emerald-100 rounded-lg",children:t.jsx(M.Z,{className:"h-5 w-5 text-emerald-600"})})]})})]}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 mb-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx("input",{type:"text",value:g,onChange:e=>p(e.target.value),placeholder:"Order #, Name, Contact...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,t.jsxs)("select",{value:j,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Statuses"}),X.map(e=>t.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")},e))]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type"}),(0,t.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"dine-in",children:"Dine In"}),t.jsx("option",{value:"pickup",children:"Pickup"}),t.jsx("option",{value:"delivery",children:"Delivery"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),(0,t.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"today",children:"Today"}),t.jsx("option",{value:"week",children:"Last 7 Days"}),t.jsx("option",{value:"month",children:"Last 30 Days"})]})]})]})}),o.length>0&&t.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Bulk Actions"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[o.length," order",1!==o.length?"s":""," selected"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[(0,t.jsxs)("select",{onChange:e=>{e.target.value&&(handleBulkStatusChange(e.target.value),e.target.value="")},className:"flex-1 sm:flex-none px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",disabled:C,children:[t.jsx("option",{value:"",children:"Change Status..."}),X.map(e=>t.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")},e))]}),t.jsx("button",{onClick:()=>m([]),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm font-medium",children:"Clear"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a?(0,t.jsxs)("div",{className:"p-12 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-2 border-gray-300 border-t-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Loading orders..."})]}):0===s.length?(0,t.jsxs)("div",{className:"p-12 text-center",children:[t.jsx(u.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-base font-medium text-gray-600 mb-1",children:"No orders found"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your filters"})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"hidden lg:block overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:t.jsx("button",{onClick:()=>{o.length===s.length?m([]):m(s.map(e=>e.id))},className:"flex items-center",title:"Select all",children:o.length===s.length&&s.length>0?t.jsx(L.Z,{className:"h-4 w-4 text-blue-600"}):t.jsx(F.Z,{className:"h-4 w-4 text-gray-400"})})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Order #"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Customer"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Service"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Total"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Delivery"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("button",{onClick:()=>handleSelectOrder(e.id),className:"focus:outline-none",children:o.includes(e.id)?t.jsx(L.Z,{className:"h-4 w-4 text-blue-600"}):t.jsx(F.Z,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"font-semibold text-gray-900",children:e.order_number})}),t.jsx("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:e.customer_name}),t.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:e.contact_number})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800 capitalize",children:e.service_type.replace("-"," ")})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:["₱",e.total.toLocaleString()]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("select",{value:e.status,onChange:s=>handleStatusChange(e.id,s.target.value),disabled:C,className:`px-2 py-1 rounded-md text-xs font-medium border cursor-pointer ${getStatusColor(e.status)} focus:ring-2 focus:ring-blue-500 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed`,children:X.map(e=>t.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")},e))})}),t.jsx("td",{className:"px-4 py-3",children:"delivery"===e.service_type?(0,t.jsxs)("div",{className:"space-y-1 min-w-[100px]",children:[null!==e.delivery_fee&&(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:["₱",e.delivery_fee.toLocaleString()]}),e.lalamove_order_id&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx($.Z,{className:"h-3 w-3 text-blue-500"}),t.jsx("span",{className:"text-xs text-blue-600 font-medium truncate",children:e.lalamove_status||"Active"})]}),e.lalamove_tracking_url&&(0,t.jsxs)("a",{href:e.lalamove_tracking_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-green-600 hover:text-green-800 font-medium",children:[t.jsx(T.Z,{className:"h-3 w-3"}),t.jsx("span",{children:"Track"})]})]}):t.jsx("span",{className:"text-xs text-gray-400",children:"—"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-xs text-gray-500",children:formatDate(e.created_at)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("button",{onClick:()=>D(e),className:"text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors",children:"View"})})]},e.id))})]})}),t.jsx("div",{className:"lg:hidden",children:s.map(e=>(0,t.jsxs)("div",{className:"p-4 border-b border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[t.jsx("button",{onClick:()=>handleSelectOrder(e.id),className:"mt-1 focus:outline-none",children:o.includes(e.id)?t.jsx(L.Z,{className:"h-5 w-5 text-blue-600"}):t.jsx(F.Z,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-semibold text-gray-900 mb-1",children:e.order_number}),t.jsx("div",{className:"text-sm text-gray-600 mb-1",children:e.customer_name}),t.jsx("div",{className:"text-xs text-gray-500",children:e.contact_number})]})]}),t.jsx("select",{value:e.status,onChange:s=>handleStatusChange(e.id,s.target.value),disabled:C,className:`px-2 py-1 rounded-md text-xs font-medium border ${getStatusColor(e.status)} focus:ring-2 focus:ring-blue-500 focus:outline-none disabled:opacity-50`,children:X.map(e=>t.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm mb-3 pl-8",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-0.5",children:"Service"}),t.jsx("span",{className:"text-gray-900 font-medium capitalize",children:e.service_type.replace("-"," ")})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-0.5",children:"Total"}),(0,t.jsxs)("span",{className:"text-gray-900 font-semibold",children:["₱",e.total.toLocaleString()]})]}),"delivery"===e.service_type&&null!==e.delivery_fee&&(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-0.5",children:"Delivery Fee"}),(0,t.jsxs)("span",{className:"text-gray-900",children:["₱",e.delivery_fee.toLocaleString()]})]}),"delivery"===e.service_type&&e.lalamove_tracking_url&&(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-0.5",children:"Tracking"}),(0,t.jsxs)("a",{href:e.lalamove_tracking_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 font-medium",children:[t.jsx(T.Z,{className:"h-3 w-3"}),t.jsx("span",{className:"text-xs",children:"Track"})]})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-0.5",children:"Date"}),t.jsx("span",{className:"text-gray-900 text-xs",children:formatDate(e.created_at)})]})]}),t.jsx("div",{className:"pl-8",children:t.jsx("button",{onClick:()=>D(e),className:"text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors",children:"View Full Details →"})})]},e.id))})]})})]}),I&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-4 flex items-center justify-between z-10",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Order Details"}),t.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:I.order_number})]}),t.jsx("button",{onClick:()=>D(null),className:"text-gray-400 hover:text-gray-600 transition-colors p-1","aria-label":"Close",children:t.jsx(q.Z,{className:"h-6 w-6"})})]}),(0,t.jsxs)("div",{className:"overflow-y-auto flex-1 p-4 sm:p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:"Customer Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Customer Name"}),t.jsx("p",{className:"text-base font-medium text-gray-900",children:I.customer_name})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Contact Number"}),t.jsx("p",{className:"text-base font-medium text-gray-900",children:I.contact_number})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Service Type"}),t.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-sm font-medium bg-gray-200 text-gray-800 capitalize",children:I.service_type.replace("-"," ")})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Method"}),t.jsx("p",{className:"text-base font-medium text-gray-900 capitalize",children:I.payment_method})]})]})]}),(I.address||I.pickup_time||I.party_size)&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:["delivery"===I.service_type?"Delivery":"pickup"===I.service_type?"Pickup":"Dine-in"," Information"]}),I.address&&(0,t.jsxs)("div",{className:"mb-3",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Address"}),t.jsx("p",{className:"text-base text-gray-900",children:I.address}),I.landmark&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[t.jsx("span",{className:"font-medium",children:"Landmark:"})," ",I.landmark]})]}),I.pickup_time&&(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Pickup Time"}),t.jsx("p",{className:"text-base text-gray-900",children:I.pickup_time})]}),I.party_size&&(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Party Size"}),(0,t.jsxs)("p",{className:"text-base text-gray-900",children:[I.party_size," person",1!==I.party_size?"s":""]})]}),I.dine_in_time&&(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Preferred Time"}),t.jsx("p",{className:"text-base text-gray-900",children:formatDate(I.dine_in_time)})]})]}),"delivery"===I.service_type&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(M.Z,{className:"h-5 w-5 text-blue-600"}),t.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Lalamove Delivery Details"})]}),null!==I.delivery_fee&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(U.Z,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Delivery Fee"})]}),(0,t.jsxs)("span",{className:"text-lg font-semibold text-black",children:["₱",I.delivery_fee.toLocaleString()]})]}),I.lalamove_quotation_id&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx(u.Z,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quotation ID"})]}),t.jsx("p",{className:"text-sm text-gray-900 font-mono bg-white px-3 py-2 rounded border",children:I.lalamove_quotation_id})]}),I.lalamove_order_id&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx(u.Z,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Order ID"})]}),t.jsx("p",{className:"text-sm text-gray-900 font-mono bg-white px-3 py-2 rounded border",children:I.lalamove_order_id})]}),I.lalamove_status&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx($.Z,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Delivery Status"})]}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${I.lalamove_status.toLowerCase().includes("assigned")||I.lalamove_status.toLowerCase().includes("picked")||I.lalamove_status.toLowerCase().includes("delivered")?"bg-green-100 text-green-800 border border-green-200":I.lalamove_status.toLowerCase().includes("cancelled")||I.lalamove_status.toLowerCase().includes("failed")?"bg-red-100 text-red-800 border border-red-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:I.lalamove_status})})]}),I.lalamove_tracking_url&&t.jsx("div",{children:(0,t.jsxs)("a",{href:I.lalamove_tracking_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[t.jsx(T.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Track Delivery"})]})}),!I.lalamove_order_id&&!I.lalamove_quotation_id&&t.jsx("div",{className:"text-sm text-gray-500 italic",children:"No Lalamove delivery information available yet."})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:"Order Items"}),t.jsx("div",{className:"space-y-3",children:I.order_items?.map(e=>t.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:e.menu_item_name}),t.jsxs("div",{className:"space-y-1",children:[e.selected_variation&&t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"Variation:"})," ",e.selected_variation.name]}),e.selected_add_ons&&e.selected_add_ons.length>0&&t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"Add-ons:"})," ",e.selected_add_ons.map(e=>e.name).join(", ")]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Quantity: ",e.quantity," \xd7 ₱",e.unit_price.toLocaleString()]})]})]}),t.jsx("div",{className:"ml-4 text-right",children:t.jsxs("p",{className:"text-base font-bold text-gray-900",children:["₱",e.total_price.toLocaleString()]})})]},e.id))})]}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-base font-semibold text-gray-700",children:"Order Total"}),(0,t.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["₱",I.total.toLocaleString()]})]})}),I.notes&&(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"Special Notes"}),t.jsx("p",{className:"text-sm text-gray-900",children:I.notes})]}),t.jsx("div",{className:"border-t border-gray-200 pt-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Order Status"}),t.jsx("select",{value:I.status,onChange:e=>{handleStatusChange(I.id,e.target.value),D({...I,status:e.target.value})},disabled:C,className:`px-4 py-2 rounded-lg text-sm font-medium border ${getStatusColor(I.status)} focus:ring-2 focus:ring-blue-500 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed`,children:X.map(e=>t.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")},e))})]}),(0,t.jsxs)("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order Created"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:formatDate(I.created_at)})]})]})})]})]})})]})},components_AdminDashboard=()=>{let[e,s]=(0,r.useState)(!1),[a,_]=(0,r.useState)(""),[k,C]=(0,r.useState)("");(0,r.useEffect)(()=>{},[]);let{menuItems:S,loading:I,addMenuItem:D,updateMenuItem:A,deleteMenuItem:P}=(0,v.H)(),{categories:Z}=(0,N.L)(),{getOrderStats:E}=(0,w.y)(),[M,O]=(0,r.useState)("dashboard"),[L,F]=(0,r.useState)({total_orders:0,pending_orders:0,today_orders:0,today_revenue:0,completed_orders:0,cancelled_orders:0}),[$,T]=(0,r.useState)(null),[q,U]=(0,r.useState)([]),[R,z]=(0,r.useState)(!1),[B,V]=(0,r.useState)(!1),[G,X]=(0,r.useState)({name:"",description:"",basePrice:0,category:"hot-coffee",popular:!1,available:!0,variations:[],addOns:[]}),handleAddItem=()=>{O("add");let e=Z.length>0?Z[0].id:"dim-sum";X({name:"",description:"",basePrice:0,category:e,popular:!1,available:!0,variations:[],addOns:[]})},handleEditItem=e=>{T(e),X(e),O("edit")},handleDeleteItem=async e=>{if(confirm("Are you sure you want to delete this item? This action cannot be undone."))try{z(!0),await P(e)}catch(e){alert("Failed to delete item. Please try again.")}finally{z(!1)}},handleSaveItem=async()=>{if(!G.name||!G.description||!G.basePrice){alert("Please fill in all required fields");return}try{$?await A($.id,G):await D(G),O("items"),T(null)}catch(e){alert("Failed to save item")}},handleCancel=()=>{O("add"===M||"edit"===M?"items":"dashboard"),T(null),U([])},handleBulkRemove=async()=>{if(0===q.length){alert("Please select items to delete");return}let e=q.map(e=>{let s=S.find(s=>s.id===e);return s?s.name:"Unknown Item"}).slice(0,5),s=e.join(", "),a=q.length>5?` and ${q.length-5} more items`:"";if(confirm(`Are you sure you want to delete ${q.length} item(s)?

Items to delete: ${s}${a}

This action cannot be undone.`))try{for(let e of(z(!0),q))await P(e);U([]),V(!1),alert(`Successfully deleted ${q.length} item(s).`)}catch(e){alert("Failed to delete some items. Please try again.")}finally{z(!1)}},handleBulkCategoryChange=async e=>{if(0===q.length){alert("Please select items to update");return}let s=Z.find(s=>s.id===e)?.name;if(confirm(`Are you sure you want to change the category of ${q.length} item(s) to "${s}"?`))try{for(let s of(z(!0),q)){let a=S.find(e=>e.id===s);a&&await A(s,{...a,category:e})}U([]),V(!1),alert(`Successfully updated category for ${q.length} item(s)`)}catch(e){alert("Failed to update some items")}finally{z(!1)}},handleSelectItem=e=>{U(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};l().useEffect(()=>{V(q.length>0)},[q]);let updateVariation=(e,s,a)=>{let t=[...G.variations||[]];t[e]={...t[e],[s]:a},X({...G,variations:t})},removeVariation=e=>{let s=G.variations?.filter((s,a)=>a!==e)||[];X({...G,variations:s})},updateAddOn=(e,s,a)=>{let t=[...G.addOns||[]];t[e]={...t[e],[s]:a},X({...G,addOns:t})},removeAddOn=e=>{let s=G.addOns?.filter((s,a)=>a!==e)||[];X({...G,addOns:s})},Q=(0,r.useCallback)(async()=>{try{let e=await E();F(e)}catch(e){console.error("Error loading order stats:",e)}},[E]);(0,r.useEffect)(()=>{"dashboard"===M&&Q()},[M,Q]);let H=S.length;S.filter(e=>e.popular).length;let K=S.filter(e=>e.available).length,W=Z.map(e=>({...e,count:S.filter(s=>s.category===e.id).length}));return e?I?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):"add"===M||"edit"===M?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:handleCancel,className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors duration-200",children:[t.jsx(d.Z,{className:"h-5 w-5"}),t.jsx("span",{children:"Back"})]}),t.jsx("h1",{className:"text-2xl font-playfair font-semibold text-black",children:"add"===M?"Add New Item":"Edit Item"})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)("button",{onClick:handleCancel,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2",children:[t.jsx(i.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Cancel"})]}),(0,t.jsxs)("button",{onClick:handleSaveItem,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2",children:[t.jsx(c.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Save"})]})]})]})})}),t.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Item Name *"}),t.jsx("input",{type:"text",value:G.name||"",onChange:e=>X({...G,name:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Enter item name"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Base Price *"}),t.jsx("input",{type:"number",value:G.basePrice||"",onChange:e=>X({...G,basePrice:Number(e.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"0"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Category *"}),t.jsx("select",{value:G.category||"",onChange:e=>X({...G,category:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",children:Z.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))})]}),t.jsx("div",{className:"flex items-center",children:(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:G.popular||!1,onChange:e=>X({...G,popular:e.target.checked}),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),t.jsx("span",{className:"text-sm font-medium text-black",children:"Mark as Popular"})]})}),t.jsx("div",{className:"flex items-center",children:(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:G.available??!0,onChange:e=>X({...G,available:e.target.checked}),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),t.jsx("span",{className:"text-sm font-medium text-black",children:"Available for Order"})]})})]}),(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-lg font-playfair font-medium text-black mb-4",children:"Discount Pricing"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Discount Price"}),t.jsx("input",{type:"number",value:G.discountPrice||"",onChange:e=>X({...G,discountPrice:Number(e.target.value)||void 0}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Enter discount price"})]}),t.jsx("div",{className:"flex items-center",children:(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:G.discountActive||!1,onChange:e=>X({...G,discountActive:e.target.checked}),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),t.jsx("span",{className:"text-sm font-medium text-black",children:"Enable Discount"})]})}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Discount Start Date"}),t.jsx("input",{type:"datetime-local",value:G.discountStartDate||"",onChange:e=>X({...G,discountStartDate:e.target.value||void 0}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Discount End Date"}),t.jsx("input",{type:"datetime-local",value:G.discountEndDate||"",onChange:e=>X({...G,discountEndDate:e.target.value||void 0}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent"})]})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'Leave dates empty for indefinite discount period. Discount will only be active if "Enable Discount" is checked and current time is within the date range.'})]}),(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Description *"}),t.jsx("textarea",{value:G.description||"",onChange:e=>X({...G,description:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter item description",rows:3})]}),t.jsx("div",{className:"mb-8",children:t.jsx(components_ImageUpload,{currentImage:G.image,onImageChange:e=>X({...G,image:e})})}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-playfair font-medium text-black",children:"Size Variations"}),(0,t.jsxs)("button",{onClick:()=>{let e={id:`var-${Date.now()}`,name:"",price:0};X({...G,variations:[...G.variations||[],e]})},className:"flex items-center space-x-2 px-3 py-2 bg-cream-100 text-black rounded-lg hover:bg-cream-200 transition-colors duration-200",children:[t.jsx(o.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Add Variation"})]})]}),G.variations?.map((e,s)=>t.jsxs("div",{className:"flex items-center space-x-3 mb-3 p-4 bg-gray-50 rounded-lg",children:[t.jsx("input",{type:"text",value:e.name,onChange:e=>updateVariation(s,"name",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Variation name (e.g., Small, Medium, Large)"}),t.jsx("input",{type:"number",value:e.price,onChange:e=>updateVariation(s,"price",Number(e.target.value)),className:"w-24 px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Price"}),t.jsx("button",{onClick:()=>removeVariation(s),className:"p-2 text-red-500 hover:text-red-600 hover:bg-red-50 rounded transition-colors duration-200",children:t.jsx(m.Z,{className:"h-4 w-4"})})]},e.id))]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-playfair font-medium text-black",children:"Add-ons"}),(0,t.jsxs)("button",{onClick:()=>{let e={id:`addon-${Date.now()}`,name:"",price:0,category:"extras"};X({...G,addOns:[...G.addOns||[],e]})},className:"flex items-center space-x-2 px-3 py-2 bg-cream-100 text-black rounded-lg hover:bg-cream-200 transition-colors duration-200",children:[t.jsx(o.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Add Add-on"})]})]}),G.addOns?.map((e,s)=>t.jsxs("div",{className:"flex items-center space-x-3 mb-3 p-4 bg-gray-50 rounded-lg",children:[t.jsx("input",{type:"text",value:e.name,onChange:e=>updateAddOn(s,"name",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Add-on name"}),t.jsx("select",{value:e.category,onChange:e=>updateAddOn(s,"category",e.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent",children:f.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))}),t.jsx("input",{type:"number",value:e.price,onChange:e=>updateAddOn(s,"price",Number(e.target.value)),className:"w-24 px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Price"}),t.jsx("button",{onClick:()=>removeAddOn(s),className:"p-2 text-red-500 hover:text-red-600 hover:bg-red-50 rounded transition-colors duration-200",children:t.jsx(m.Z,{className:"h-4 w-4"})})]},e.id))]})]})})]}):"items"===M?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:()=>O("dashboard"),className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors duration-200",children:[t.jsx(d.Z,{className:"h-5 w-5"}),t.jsx("span",{children:"Dashboard"})]}),t.jsx("h1",{className:"text-2xl font-playfair font-semibold text-black",children:"Menu Items"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[B&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[q.length," item(s) selected"]}),t.jsx("button",{onClick:()=>V(!B),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:t.jsx("span",{children:"Bulk Actions"})})]}),(0,t.jsxs)("button",{onClick:handleAddItem,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:[t.jsx(o.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Add New Item"})]})]})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[B&&q.length>0&&t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 border-l-4 border-blue-500",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-black mb-1",children:"Bulk Actions"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[q.length," item(s) selected"]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Change Category:"}),(0,t.jsxs)("select",{onChange:e=>{e.target.value&&(handleBulkCategoryChange(e.target.value),e.target.value="")},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:R,children:[t.jsx("option",{value:"",children:"Select Category"}),Z.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("button",{onClick:handleBulkRemove,disabled:R,className:"flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[t.jsx(m.Z,{className:"h-4 w-4"}),t.jsx("span",{children:R?"Removing...":"Remove Selected"})]}),(0,t.jsxs)("button",{onClick:()=>{U([]),V(!1)},className:"flex items-center space-x-2 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 text-sm",children:[t.jsx(i.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Clear Selection"})]})]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[S.length>0&&t.jsx("div",{className:"bg-gray-50 border-b border-gray-200 px-6 py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:q.length===S.length&&S.length>0,onChange:()=>{q.length===S.length?(U([]),V(!1)):(U(S.map(e=>e.id)),V(!0))},className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Select All (",S.length," items)"]})]})}),q.length>0&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[q.length," item(s) selected"]}),t.jsx("button",{onClick:()=>U([]),className:"text-sm text-gray-500 hover:text-gray-700 transition-colors duration-200",children:"Clear Selection"})]})]})}),t.jsx("div",{className:"hidden md:block overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Select"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Category"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Price"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Variations"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Add-ons"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:S.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("input",{type:"checkbox",checked:q.includes(e.id),onChange:()=>handleSelectItem(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),t.jsx("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:e.name}),t.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.description})]})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:Z.find(s=>s.id===e.category)?.name}),t.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:t.jsx("div",{className:"flex flex-col",children:e.isOnDiscount&&e.discountPrice?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"text-red-600 font-semibold",children:["₱",e.discountPrice]}),(0,t.jsxs)("span",{className:"text-gray-500 line-through text-xs",children:["₱",e.basePrice]})]}):(0,t.jsxs)("span",{children:["₱",e.basePrice]})})}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[e.variations?.length||0," variations"]}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[e.addOns?.length||0," add-ons"]}),t.jsx("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[e.popular&&t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-600 text-white",children:"Popular"}),t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e.available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.available?"Available":"Unavailable"})]})}),t.jsx("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>handleEditItem(e),disabled:R,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors duration-200",children:t.jsx(x.Z,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>handleDeleteItem(e.id),disabled:R,className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors duration-200",children:t.jsx(m.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})}),t.jsx("div",{className:"md:hidden",children:S.map(e=>(0,t.jsxs)("div",{className:`p-4 border-b border-gray-200 last:border-b-0 ${q.includes(e.id)?"bg-blue-50":""}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:q.includes(e.id),onChange:()=>handleSelectItem(e.id),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Select"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>handleEditItem(e),disabled:R,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors duration-200",children:t.jsx(x.Z,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>handleDeleteItem(e.id),disabled:R,className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors duration-200",children:t.jsx(m.Z,{className:"h-4 w-4"})})]})]}),t.jsx("div",{className:"flex items-start justify-between mb-3",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.name}),t.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.description})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Category:"}),t.jsx("span",{className:"ml-1 text-gray-900",children:Z.find(s=>s.id===e.category)?.name})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Price:"}),(0,t.jsxs)("span",{className:"ml-1 font-medium text-gray-900",children:[e.isOnDiscount&&e.discountPrice?(0,t.jsxs)("span",{className:"text-red-600",children:["₱",e.discountPrice]}):`₱${e.basePrice}`,e.isOnDiscount&&e.discountPrice&&(0,t.jsxs)("span",{className:"text-gray-500 line-through text-xs ml-1",children:["₱",e.basePrice]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Variations:"}),t.jsx("span",{className:"ml-1 text-gray-900",children:e.variations?.length||0})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Add-ons:"}),t.jsx("span",{className:"ml-1 text-gray-900",children:e.addOns?.length||0})]})]}),t.jsx("div",{className:"flex items-center justify-between mt-3",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[e.popular&&t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-600 text-white",children:"Popular"}),t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e.available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.available?"Available":"Unavailable"})]})})]},e.id))})]})]})]}):"orders"===M?t.jsx(components_OrderManager,{onBack:()=>O("dashboard")}):"categories"===M?t.jsx(components_CategoryManager,{onBack:()=>O("dashboard")}):"payments"===M?t.jsx(components_PaymentMethodManager,{onBack:()=>O("dashboard")}):"settings"===M?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex items-center justify-between h-16",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:()=>O("dashboard"),className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors duration-200",children:[t.jsx(d.Z,{className:"h-5 w-5"}),t.jsx("span",{children:"Dashboard"})]}),t.jsx("h1",{className:"text-2xl font-playfair font-semibold text-black",children:"Site Settings"})]})})})}),t.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:t.jsx(components_SiteSettingsManager,{})})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx(h.Z,{className:"h-8 w-8 text-black"}),t.jsx("h1",{className:"text-2xl font-noto font-semibold text-black",children:"Starr's Famous Shakes Admin"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("a",{href:"/",className:"text-gray-600 hover:text-black transition-colors duration-200",children:"View Website"}),t.jsx("button",{onClick:()=>{s(!1),localStorage.removeItem("beracah_admin_auth"),_(""),O("dashboard")},className:"text-gray-600 hover:text-black transition-colors duration-200",children:"Logout"})]})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-green-600 rounded-lg",children:t.jsx(u.Z,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),t.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:H})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:t.jsx(g.Z,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Items"}),t.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:K})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-yellow-500 rounded-lg",children:t.jsx(p.Z,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Orders"}),t.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:L.pending_orders})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-emerald-500 rounded-lg",children:t.jsx(g.Z,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Revenue"}),(0,t.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:["₱",L.today_revenue.toLocaleString()]})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-playfair font-medium text-black mb-4",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("button",{onClick:handleAddItem,className:"w-full flex items-center space-x-3 p-3 text-left hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[t.jsx(o.Z,{className:"h-5 w-5 text-gray-400"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Add New Menu Item"})]}),(0,t.jsxs)("button",{onClick:()=>O("items"),className:"w-full flex items-center space-x-3 p-3 text-left hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[t.jsx(u.Z,{className:"h-5 w-5 text-gray-400"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Manage Menu Items"})]}),(0,t.jsxs)("button",{onClick:()=>O("orders"),className:"w-full flex items-center space-x-3 p-3 text-left hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[t.jsx(p.Z,{className:"h-5 w-5 text-gray-400"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Manage Orders"}),L.pending_orders>0&&t.jsx("span",{className:"ml-auto bg-yellow-500 text-white text-xs font-medium px-2 py-1 rounded-full",children:L.pending_orders})]}),(0,t.jsxs)("button",{onClick:()=>O("categories"),className:"w-full flex items-center space-x-3 p-3 text-left hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[t.jsx(b.Z,{className:"h-5 w-5 text-gray-400"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Manage Categories"})]}),(0,t.jsxs)("button",{onClick:()=>O("payments"),className:"w-full flex items-center space-x-3 p-3 text-left hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[t.jsx(y.Z,{className:"h-5 w-5 text-gray-400"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Payment Methods"})]}),(0,t.jsxs)("button",{onClick:()=>O("settings"),className:"w-full flex items-center space-x-3 p-3 text-left hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[t.jsx(j.Z,{className:"h-5 w-5 text-gray-400"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Site Settings"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-playfair font-medium text-black mb-4",children:"Categories Overview"}),t.jsx("div",{className:"space-y-3",children:W.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-lg",children:e.icon}),t.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[e.count," items"]})]},e.id))})]})]})]})]}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"mx-auto w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mb-4",children:t.jsx(n.Z,{className:"h-8 w-8 text-white"})}),t.jsx("h1",{className:"text-2xl font-playfair font-semibold text-black",children:"Admin Access"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Enter password to access the admin dashboard"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"Starrs@Admin!2025"===a?(s(!0),localStorage.setItem("beracah_admin_auth","true"),C("")):C("Invalid password")},children:[(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Password"}),t.jsx("input",{type:"password",value:a,onChange:e=>_(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Enter admin password",required:!0}),k&&t.jsx("p",{className:"text-red-500 text-sm mt-2",children:k})]}),t.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors duration-200 font-medium",children:"Access Dashboard"})]})]})})},page=()=>t.jsx("div",{className:"min-h-screen bg-starrs-cream-light",children:t.jsx(components_AdminDashboard,{})})},3729:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var t=a(5153);let r=(0,t.createProxy)(String.raw`/Users/codemedavid/Documents/starrs/Starr-s-Famous-Shakes/app/admin/page.tsx`),{__esModule:l,$$typeof:n}=r,d=r.default,i=d}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[472,894,86,93,296],()=>__webpack_exec__(847));module.exports=a})();