"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[605],{7863:function(e,t,r){r.d(t,{l:function(){return useAddressAutocomplete}});var a=r(2265);function useAddressAutocomplete(e){let[t,r]=(0,a.useState)([]),[o,n]=(0,a.useState)(!1),[i,s]=(0,a.useState)(null),d=(0,a.useRef)(null),l=(0,a.useRef)(null),c=(0,a.useCallback)(async e=>{if(!e.trim()){r([]),n(!1),s(null);return}l.current&&l.current.abort();let t=new AbortController;l.current=t,n(!0),s(null);try{let a=await fetch("https://nominatim.openstreetmap.org/search?"+"q=".concat(encodeURIComponent(e),"&")+"countrycodes=ph&format=json&limit=10&addressdetails=1",{method:"GET",headers:{"User-Agent":"WhitelabelDeliveryApp/1.0",Accept:"application/json"},signal:t.signal});if(!a.ok)throw Error("API request failed: ".concat(a.status));let o=await a.json();if(t.signal.aborted)return;if(!Array.isArray(o)){console.error("Nominatim API returned non-array response:",o),s("Invalid response from address service"),r([]);return}let n=o.map(e=>{var t,r,a,o,n,i,s,d,l,c,u,m,h,f,p,v,y,g,_;return{display_name:e.display_name,place_id:e.place_id,lat:e.lat,lon:e.lon,type:e.type||"",importance:e.importance,address:{road:null===(t=e.address)||void 0===t?void 0:t.road,house_number:null===(r=e.address)||void 0===r?void 0:r.house_number,suburb:null===(a=e.address)||void 0===a?void 0:a.suburb,village:null===(o=e.address)||void 0===o?void 0:o.village,barangay:(null===(n=e.address)||void 0===n?void 0:n.barangay)||(null===(i=e.address)||void 0===i?void 0:i.suburb),city:null===(s=e.address)||void 0===s?void 0:s.city,town:null===(d=e.address)||void 0===d?void 0:d.town,municipality:null===(l=e.address)||void 0===l?void 0:l.municipality,state:null===(c=e.address)||void 0===c?void 0:c.state,province:(null===(u=e.address)||void 0===u?void 0:u.province)||(null===(m=e.address)||void 0===m?void 0:m.state),postcode:null===(h=e.address)||void 0===h?void 0:h.postcode,country:null===(f=e.address)||void 0===f?void 0:f.country,neighbourhood:null===(p=e.address)||void 0===p?void 0:p.neighbourhood,quarter:null===(v=e.address)||void 0===v?void 0:v.quarter,amenity:null===(y=e.address)||void 0===y?void 0:y.amenity,shop:null===(g=e.address)||void 0===g?void 0:g.shop,tourism:null===(_=e.address)||void 0===_?void 0:_.tourism}}});n.sort((e,t)=>{if(e.importance&&t.importance)return t.importance-e.importance;let r=!!e.address.house_number,a=!!t.address.house_number;if(r!==a)return r?-1:1;let o=!!e.address.road,n=!!t.address.road;return o!==n?o?-1:1:0}),r(n)}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;console.error("Error fetching address suggestions:",e),e instanceof TypeError&&e.message.includes("fetch")?s("Network error. Please check your connection and try again."):e instanceof Error?s("Failed to fetch address suggestions: ".concat(e.message,". Please try again or enter address manually.")):s("Failed to fetch address suggestions. Please try again or enter address manually."),r([])}finally{t.signal.aborted||n(!1)}},[]);return(0,a.useEffect)(()=>{if(d.current&&clearTimeout(d.current),e.trim().length<3){r([]),n(!1);return}return d.current=setTimeout(()=>{c(e)},500),()=>{d.current&&clearTimeout(d.current),l.current&&l.current.abort()}},[e,c]),(0,a.useEffect)(()=>()=>{l.current&&l.current.abort()},[]),{suggestions:t,loading:o,error:i,clearSuggestions:()=>r([])}}},4791:function(e,t,r){r.d(t,{L:function(){return useCategories}});var a=r(2265),o=r(7823);let useCategories=()=>{let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[i,s]=(0,a.useState)(null),fetchCategories=async()=>{try{n(!0);let{data:e,error:r}=await o.O.from("categories").select("*").eq("active",!0).order("sort_order",{ascending:!0});if(r)throw r;t(e||[]),s(null)}catch(e){console.error("Error fetching categories:",e),s(e instanceof Error?e.message:"Failed to fetch categories")}finally{n(!1)}},addCategory=async e=>{try{let{data:t,error:r}=await o.O.from("categories").insert({id:e.id,name:e.name,icon:e.icon,sort_order:e.sort_order,active:e.active}).select().single();if(r)throw r;return await fetchCategories(),t}catch(e){throw console.error("Error adding category:",e),e}},updateCategory=async(e,t)=>{try{let{error:r}=await o.O.from("categories").update({name:t.name,icon:t.icon,sort_order:t.sort_order,active:t.active}).eq("id",e);if(r)throw r;await fetchCategories()}catch(e){throw console.error("Error updating category:",e),e}},deleteCategory=async e=>{try{let{data:t,error:r}=await o.O.from("menu_items").select("id").eq("category",e).limit(1);if(r)throw r;if(t&&t.length>0)throw Error("Cannot delete category that contains menu items. Please move or delete the items first.");let{error:a}=await o.O.from("categories").delete().eq("id",e);if(a)throw a;await fetchCategories()}catch(e){throw console.error("Error deleting category:",e),e}},reorderCategories=async e=>{try{let t=e.map((e,t)=>({id:e.id,sort_order:t+1}));for(let e of t)await o.O.from("categories").update({sort_order:e.sort_order}).eq("id",e.id);await fetchCategories()}catch(e){throw console.error("Error reordering categories:",e),e}};return(0,a.useEffect)(()=>{fetchCategories()},[]),{categories:e,loading:r,error:i,addCategory,updateCategory,deleteCategory,reorderCategories,refetch:fetchCategories}}},6827:function(e,t,r){r.d(t,{H:function(){return useMenu}});var a=r(2265),o=r(7823);let useMenu=()=>{let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[i,s]=(0,a.useState)(null),fetchMenuItems=async()=>{try{n(!0);let{data:e,error:r}=await o.O.from("menu_items").select("\n          *,\n          variations (*),\n          add_ons (*)\n        ").order("created_at",{ascending:!0});if(r)throw r;let a=(null==e?void 0:e.map(e=>{var t,r,a;let o=new Date,n=e.discount_start_date?new Date(e.discount_start_date):null,i=e.discount_end_date?new Date(e.discount_end_date):null,s=e.discount_active&&(!n||o>=n)&&(!i||o<=i),d=s&&e.discount_price?e.discount_price:e.base_price;return{id:e.id,name:e.name,description:e.description,basePrice:e.base_price,category:e.category,popular:e.popular,available:null===(a=e.available)||void 0===a||a,image:e.image_url||void 0,discountPrice:e.discount_price||void 0,discountStartDate:e.discount_start_date||void 0,discountEndDate:e.discount_end_date||void 0,discountActive:e.discount_active||!1,effectivePrice:d,isOnDiscount:s,variations:(null===(t=e.variations)||void 0===t?void 0:t.map(e=>({id:e.id,name:e.name,price:e.price})))||[],addOns:(null===(r=e.add_ons)||void 0===r?void 0:r.map(e=>({id:e.id,name:e.name,price:e.price,category:e.category})))||[]}}))||[];t(a),s(null)}catch(e){console.error("Error fetching menu items:",e),s(e instanceof Error?e.message:"Failed to fetch menu items")}finally{n(!1)}},addMenuItem=async e=>{try{var t;let{data:r,error:a}=await o.O.from("menu_items").insert({name:e.name,description:e.description,base_price:e.basePrice,category:e.category,popular:e.popular||!1,available:null===(t=e.available)||void 0===t||t,image_url:e.image||null,discount_price:e.discountPrice||null,discount_start_date:e.discountStartDate||null,discount_end_date:e.discountEndDate||null,discount_active:e.discountActive||!1}).select().single();if(a)throw a;if(e.variations&&e.variations.length>0){let{error:t}=await o.O.from("variations").insert(e.variations.map(e=>({menu_item_id:r.id,name:e.name,price:e.price})));if(t)throw t}if(e.addOns&&e.addOns.length>0){let{error:t}=await o.O.from("add_ons").insert(e.addOns.map(e=>({menu_item_id:r.id,name:e.name,price:e.price,category:e.category})));if(t)throw t}return await fetchMenuItems(),r}catch(e){throw console.error("Error adding menu item:",e),e}},updateMenuItem=async(e,t)=>{try{let{error:r}=await o.O.from("menu_items").update({name:t.name,description:t.description,base_price:t.basePrice,category:t.category,popular:t.popular,available:t.available,image_url:t.image||null,discount_price:t.discountPrice||null,discount_start_date:t.discountStartDate||null,discount_end_date:t.discountEndDate||null,discount_active:t.discountActive}).eq("id",e);if(r)throw r;if(await o.O.from("variations").delete().eq("menu_item_id",e),await o.O.from("add_ons").delete().eq("menu_item_id",e),t.variations&&t.variations.length>0){let{error:r}=await o.O.from("variations").insert(t.variations.map(t=>({menu_item_id:e,name:t.name,price:t.price})));if(r)throw r}if(t.addOns&&t.addOns.length>0){let{error:r}=await o.O.from("add_ons").insert(t.addOns.map(t=>({menu_item_id:e,name:t.name,price:t.price,category:t.category})));if(r)throw r}await fetchMenuItems()}catch(e){throw console.error("Error updating menu item:",e),e}},deleteMenuItem=async e=>{try{let{error:t}=await o.O.from("menu_items").delete().eq("id",e);if(t)throw t;await fetchMenuItems()}catch(e){throw console.error("Error deleting menu item:",e),e}};return(0,a.useEffect)(()=>{fetchMenuItems()},[]),{menuItems:e,loading:r,error:i,addMenuItem,updateMenuItem,deleteMenuItem,refetch:fetchMenuItems}}},1675:function(e,t,r){r.d(t,{y:function(){return useOrders}});var a=r(2265),o=r(7823),n=r(9093),i=r(2976);function getAdminHeaders(){let e="true"===localStorage.getItem("beracah_admin_auth");return e?{"X-Admin-Auth":btoa("Starrs@Admin!2025")}:{}}let useOrders=()=>{let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[d,l]=(0,a.useState)(null),c=(0,a.useRef)(null),u=(0,a.useRef)(void 0),{siteSettings:m}=(0,i.h)(),h=(0,n.lN)(m),normalizePhoneNumber=e=>{if(!e)return;let t=e.trim();if(!t)return;let r=t.replace(/\D/g,"");if(r)return r.startsWith("63")?"+".concat(r):r.startsWith("0")?"+63".concat(r.slice(1)):r.startsWith("9")?"+63".concat(r):"+63".concat(r)},f=(0,a.useCallback)(async e=>{try{s(!0),l(null);let r=new URLSearchParams;(null==e?void 0:e.status)&&r.append("status",e.status),(null==e?void 0:e.service_type)&&r.append("service_type",e.service_type),(null==e?void 0:e.date_from)&&r.append("date_from",e.date_from),(null==e?void 0:e.date_to)&&r.append("date_to",e.date_to),(null==e?void 0:e.search)&&r.append("search",e.search);let a=r.toString(),o=await fetch("/api/orders".concat(a?"?".concat(a):""),{headers:{...getAdminHeaders()}});if(!o.ok){let e=await o.json().catch(()=>({error:"Failed to fetch orders"}));throw Error(e.error||"Failed to fetch orders")}let n=await o.json();t(n.orders||[]),u.current=e}catch(e){console.error("Error fetching orders:",e),l(e instanceof Error?e.message:"Failed to fetch orders"),t([])}finally{s(!1)}},[]),fetchOrderById=async e=>{try{let t=await fetch("/api/orders/".concat(e),{headers:{...getAdminHeaders()}});if(!t.ok){if(404===t.status)return null;let e=await t.json().catch(()=>({error:"Failed to fetch order"}));throw Error(e.error||"Failed to fetch order")}let r=await t.json();return r.order||null}catch(e){throw console.error("Error fetching order:",e),e}},createOrder=async(e,t,r,a,o,i,s)=>{try{let d=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json",...getAdminHeaders()},body:JSON.stringify({cartItems:e,customerName:t,contactNumber:r,serviceType:a,paymentMethod:o,total:i,options:s})});if(!d.ok){let e=await d.json().catch(()=>({error:"Failed to create order"}));throw Error(e.error||"Failed to create order")}let l=await d.json(),c=l.order;if("delivery"===a&&(null==s?void 0:s.lalamoveQuotationId)&&h)try{let e=normalizePhoneNumber(r)||r,a=await (0,n.io)(s.lalamoveQuotationId,t,e,h,{orderId:c.id,deliveryAddress:null==s?void 0:s.address,deliveryLat:null==s?void 0:s.deliveryLat,deliveryLng:null==s?void 0:s.deliveryLng});a&&(await fetch("/api/orders/".concat(c.id),{method:"PATCH",headers:{"Content-Type":"application/json",...getAdminHeaders()},body:JSON.stringify({status:c.status,lalamove_order_id:a.orderId,lalamove_status:a.status,lalamove_tracking_url:a.shareLink})}),c={...c,lalamove_order_id:a.orderId,lalamove_status:a.status,lalamove_tracking_url:a.shareLink})}catch(e){console.error("Failed to create Lalamove order:",e)}return await f(u.current),c}catch(e){throw console.error("Error creating order:",e),e}},updateOrderStatus=async(e,t)=>{try{let r=await fetch("/api/orders/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",...getAdminHeaders()},body:JSON.stringify({status:t})});if(!r.ok){let e=await r.json().catch(()=>({error:"Failed to update order"}));throw Error(e.error||"Failed to update order")}f(u.current).catch(e=>{console.error("Error refreshing orders after update:",e)})}catch(e){throw console.error("Error updating order status:",e),e}},bulkUpdateStatus=async(e,t)=>{try{let r=await fetch("/api/orders/bulk",{method:"PATCH",headers:{"Content-Type":"application/json",...getAdminHeaders()},body:JSON.stringify({ids:e,status:t})});if(!r.ok){let e=await r.json().catch(()=>({error:"Failed to update orders"}));throw Error(e.error||"Failed to update orders")}f(u.current).catch(e=>{console.error("Error refreshing orders after bulk update:",e)})}catch(e){throw console.error("Error bulk updating order status:",e),e}},getOrderStats=async()=>{try{let e=await fetch("/api/orders/stats",{headers:{...getAdminHeaders()}});if(!e.ok){let t=await e.json().catch(()=>({error:"Failed to fetch stats"}));throw Error(t.error||"Failed to fetch stats")}let t=await e.json();return t.stats}catch(e){throw console.error("Error fetching order stats:",e),e}};return(0,a.useEffect)(()=>{let e=!0;f();let t=o.O.channel("orders-changes").on("postgres_changes",{event:"*",schema:"public",table:"orders"},async t=>{e&&(console.log("Order change received:",t.eventType,t.new),u.current?await f(u.current):await f())}).on("postgres_changes",{event:"*",schema:"public",table:"order_items"},async t=>{e&&(console.log("Order item change received:",t.eventType),u.current?await f(u.current):await f())}).subscribe(e=>{console.log("Subscription status:",e)});return c.current=t,()=>{e=!1,c.current&&(o.O.removeChannel(c.current),c.current=null)}},[]),{orders:e,loading:r,error:d,fetchOrders:f,fetchOrderById,createOrder,updateOrderStatus,bulkUpdateStatus,getOrderStats,refetch:()=>f(u.current)}}},3155:function(e,t,r){r.d(t,{E:function(){return usePaymentMethods}});var a=r(2265),o=r(7823);let usePaymentMethods=()=>{let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[i,s]=(0,a.useState)(null),fetchPaymentMethods=async()=>{try{n(!0);let{data:e,error:r}=await o.O.from("payment_methods").select("*").eq("active",!0).order("sort_order",{ascending:!0});if(r)throw r;t(e||[]),s(null)}catch(e){console.error("Error fetching payment methods:",e),s(e instanceof Error?e.message:"Failed to fetch payment methods")}finally{n(!1)}},fetchAllPaymentMethods=async()=>{try{n(!0);let{data:e,error:r}=await o.O.from("payment_methods").select("*").order("sort_order",{ascending:!0});if(r)throw r;t(e||[]),s(null)}catch(e){console.error("Error fetching all payment methods:",e),s(e instanceof Error?e.message:"Failed to fetch payment methods")}finally{n(!1)}},addPaymentMethod=async e=>{try{let{data:t,error:r}=await o.O.from("payment_methods").insert({id:e.id,name:e.name,account_number:e.account_number,account_name:e.account_name,qr_code_url:e.qr_code_url,active:e.active,sort_order:e.sort_order}).select().single();if(r)throw r;return await fetchAllPaymentMethods(),t}catch(e){throw console.error("Error adding payment method:",e),e}},updatePaymentMethod=async(e,t)=>{try{let{error:r}=await o.O.from("payment_methods").update({name:t.name,account_number:t.account_number,account_name:t.account_name,qr_code_url:t.qr_code_url,active:t.active,sort_order:t.sort_order}).eq("id",e);if(r)throw r;await fetchAllPaymentMethods()}catch(e){throw console.error("Error updating payment method:",e),e}},deletePaymentMethod=async e=>{try{let{error:t}=await o.O.from("payment_methods").delete().eq("id",e);if(t)throw t;await fetchAllPaymentMethods()}catch(e){throw console.error("Error deleting payment method:",e),e}},reorderPaymentMethods=async e=>{try{let t=e.map((e,t)=>({id:e.id,sort_order:t+1}));for(let e of t)await o.O.from("payment_methods").update({sort_order:e.sort_order}).eq("id",e.id);await fetchAllPaymentMethods()}catch(e){throw console.error("Error reordering payment methods:",e),e}};return(0,a.useEffect)(()=>{fetchPaymentMethods()},[]),{paymentMethods:e,loading:r,error:i,addPaymentMethod,updatePaymentMethod,deletePaymentMethod,reorderPaymentMethods,refetch:fetchPaymentMethods,refetchAll:fetchAllPaymentMethods}}},2976:function(e,t,r){r.d(t,{h:function(){return useSiteSettings}});var a=r(2265),o=r(7823);let useSiteSettings=()=>{let[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0),[i,s]=(0,a.useState)(null),fetchSiteSettings=async()=>{try{n(!0),s(null);let{data:e,error:r}=await o.O.from("site_settings").select("*").order("id");if(r)throw r;let a={};(e||[]).forEach(e=>{a[e.id]=e.value});let getValue=function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=a[e])&&void 0!==t?t:r},i={site_name:getValue("site_name","Beracah Cafe"),site_logo:getValue("site_logo",""),site_description:getValue("site_description",""),currency:getValue("currency","PHP"),currency_code:getValue("currency_code","PHP"),lalamove_market:getValue("lalamove_market",""),lalamove_service_type:getValue("lalamove_service_type",""),lalamove_sandbox:getValue("lalamove_sandbox","true"),lalamove_api_key:getValue("lalamove_api_key",""),lalamove_api_secret:getValue("lalamove_api_secret",""),lalamove_store_name:getValue("lalamove_store_name",""),lalamove_store_phone:getValue("lalamove_store_phone",""),lalamove_store_address:getValue("lalamove_store_address",""),lalamove_store_latitude:getValue("lalamove_store_latitude",""),lalamove_store_longitude:getValue("lalamove_store_longitude","")};t(i)}catch(e){console.error("Error fetching site settings:",e),s(e instanceof Error?e.message:"Failed to fetch site settings")}finally{n(!1)}},updateSiteSetting=async(e,t)=>{try{s(null);let{error:r}=await o.O.from("site_settings").update({value:t}).eq("id",e);if(r)throw r;await fetchSiteSettings()}catch(e){throw console.error("Error updating site setting:",e),s(e instanceof Error?e.message:"Failed to update site setting"),e}},updateSiteSettings=async e=>{try{s(null);let t=Object.entries(e).map(e=>{let[t,r]=e;return o.O.from("site_settings").update({value:r}).eq("id",t)}),r=await Promise.all(t),a=r.filter(e=>e.error);if(a.length>0)throw Error("Some updates failed");await fetchSiteSettings()}catch(e){throw console.error("Error updating site settings:",e),s(e instanceof Error?e.message:"Failed to update site settings"),e}};return(0,a.useEffect)(()=>{fetchSiteSettings()},[]),{siteSettings:e,loading:r,error:i,updateSiteSetting,updateSiteSettings,refetch:fetchSiteSettings}}},9093:function(e,t,r){r.d(t,{$Y:function(){return fetchDeliveryQuotation},io:function(){return createDeliveryOrder},lN:function(){return buildLalamoveConfig}});let getProxyBase=()=>"/api/lalamove",buildFunctionUrl=e=>{let t=getProxyBase(),r=requireSupabaseKey(),a=e.startsWith("/")?e:"/".concat(e),o=t.replace(/\/$/,"");return"".concat(o).concat(a,"?apikey=").concat(encodeURIComponent(r))},a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlud2F6dGhwc3FtamRncWloeHVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM4Njg1MDYsImV4cCI6MjA3OTQ0NDUwNn0.F0bbR4I8dMhjhlNvTdTp3nScoWS5mHVdq85IdB7XeRQ",requireSupabaseKey=()=>{if(!a)throw Error("Missing NEXT_PUBLIC_SUPABASE_ANON_KEY; needed for proxy authentication");return a},buildProxyHeaders=()=>{let e=requireSupabaseKey();return{"Content-Type":"application/json",Authorization:"Bearer ".concat(e),apikey:e}},ensureSuccess=async e=>{if(e.ok)return e.json();let t=await e.text();throw Error(t||"Delivery proxy request failed")},readEnvNumber=e=>{if(!e)return;let t=Number(e);return Number.isFinite(t)?t:void 0},buildLalamoveConfig=e=>{var t,r,a,o,n,i,s,d;if(!e)return null;let l=null===(t=e.lalamove_market)||void 0===t?void 0:t.trim(),c=null===(r=e.lalamove_service_type)||void 0===r?void 0:r.trim(),u=null===(a=e.lalamove_store_name)||void 0===a?void 0:a.trim(),m=null===(o=e.lalamove_store_phone)||void 0===o?void 0:o.trim(),h=null===(n=e.lalamove_store_address)||void 0===n?void 0:n.trim(),f=readEnvNumber(null!==(s=e.lalamove_store_latitude)&&void 0!==s?s:void 0),p=readEnvNumber(null!==(d=e.lalamove_store_longitude)&&void 0!==d?d:void 0),v=(null===(i=e.lalamove_sandbox)||void 0===i?void 0:i.trim().toLowerCase())!=="false";return l&&c&&u&&m&&h&&void 0!==f&&void 0!==p?{market:l,serviceType:c,sandbox:void 0===v||v,storeName:u,storePhone:m,storeAddress:h,storeLatitude:f,storeLongitude:p}:null},fetchDeliveryQuotation=async(e,t,r)=>{let a=await fetch(buildFunctionUrl("/quote"),{method:"POST",headers:buildProxyHeaders(),body:JSON.stringify({deliveryAddress:e,deliveryLat:t.lat,deliveryLng:t.lng,market:r.market,serviceType:r.serviceType,sandbox:r.sandbox,storeName:r.storeName,storePhone:r.storePhone,storeAddress:r.storeAddress,storeLatitude:r.storeLatitude,storeLongitude:r.storeLongitude})}),o=await ensureSuccess(a);return{quotationId:o.quotationId,price:Number(o.price),currency:o.currency,expiresAt:new Date(o.expiresAt)}},createDeliveryOrder=async(e,t,r,a,o)=>{let n=await fetch(buildFunctionUrl("/order"),{method:"POST",headers:buildProxyHeaders(),body:JSON.stringify({quotationId:e,recipientName:t,recipientPhone:r,market:a.market,sandbox:a.sandbox,storeName:a.storeName,storePhone:a.storePhone,metadata:o})}),i=await ensureSuccess(n);return{orderId:i.orderId,status:i.status,shareLink:i.shareLink,driverId:i.driverId}}},7823:function(e,t,r){r.d(t,{O:function(){return i}});var a=r(7440);let o="https://inwazthpsqmjdgqihxuq.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlud2F6dGhwc3FtamRncWloeHVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM4Njg1MDYsImV4cCI6MjA3OTQ0NDUwNn0.F0bbR4I8dMhjhlNvTdTp3nScoWS5mHVdq85IdB7XeRQ";if(!o||!n)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY");let i=(0,a.eI)(o,n)}}]);