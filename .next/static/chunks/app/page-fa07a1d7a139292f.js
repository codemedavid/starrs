(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6858:function(e,t,s){Promise.resolve().then(s.bind(s,5726))},5726:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return page}});var a=s(7437),r=s(2265),l=s(3505),n=s(2976),components_Header=e=>{let{cartItemsCount:t,onCartClick:s,onMenuClick:r}=e,{siteSettings:i,loading:d}=(0,n.h)();return(0,a.jsx)("header",{className:"sticky top-0 z-50 bg-starrs-mint/95 backdrop-blur-md border-b border-starrs-teal/30 shadow-sm",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 md:h-20",children:[(0,a.jsxs)("button",{onClick:r,className:"flex items-center space-x-2 md:space-x-3 text-starrs-teal-dark hover:text-starrs-teal-darker active:opacity-80 transition-colors duration-200 touch-manipulation",children:[d?(0,a.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-starrs-teal-light rounded-full animate-pulse"}):(0,a.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-starrs-teal-light rounded-full flex items-center justify-center ring-2 ring-starrs-teal/50 flex-shrink-0",children:(0,a.jsx)("img",{src:(null==i?void 0:i.site_logo)||"/logo.jpg",alt:(null==i?void 0:i.site_name)||"Starr's Famous Shakes",className:"w-8 h-8 md:w-10 md:h-10 rounded-full object-cover",onError:e=>{e.currentTarget.src="/logo.jpg"}})}),(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsx)("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-starrs-teal-dark leading-tight",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:d?(0,a.jsx)("div",{className:"w-24 md:w-32 h-5 md:h-6 bg-starrs-teal-light rounded animate-pulse"}):"starr's"}),(0,a.jsx)("p",{className:"text-xs md:text-sm font-medium text-starrs-teal/80 -mt-0.5 md:-mt-1",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:"famous shakes"})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-1 md:space-x-2",children:(0,a.jsxs)("button",{onClick:s,className:"relative p-2 md:p-3 text-starrs-teal-dark hover:text-starrs-teal-darker hover:bg-starrs-teal-light active:bg-starrs-teal-light rounded-full transition-all duration-200 touch-manipulation","aria-label":"Shopping cart",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5 md:h-6 md:w-6"}),t>0&&(0,a.jsx)("span",{className:"absolute -top-0.5 -right-0.5 md:-top-1 md:-right-1 bg-starrs-green text-white text-[10px] md:text-xs rounded-full h-5 w-5 md:h-6 md:w-6 flex items-center justify-center animate-bounce-gentle font-semibold shadow-lg",children:t})]})})]})})})},i=s(4791),d=s(9883),o=s(2898);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,o.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var m=s(2549),components_MenuItemCard=e=>{var t,s;let{item:n,onAddToCart:i,quantity:o,onUpdateQuantity:u}=e,[x,h]=(0,r.useState)(!1),[p,b]=(0,r.useState)(null===(t=n.variations)||void 0===t?void 0:t[0]),[f,g]=(0,r.useState)([]),calculatePrice=()=>{let e=n.effectivePrice||n.basePrice;return p&&(e=(n.effectivePrice||n.basePrice)+p.price),f.forEach(t=>{e+=t.price*t.quantity}),e},handleAddToCart=()=>{var e,t;(null===(e=n.variations)||void 0===e?void 0:e.length)||(null===(t=n.addOns)||void 0===t?void 0:t.length)?h(!0):i(n,1)},handleIncrement=()=>{u(n.id,o+1)},handleDecrement=()=>{o>0&&u(n.id,o-1)},updateAddOnQuantity=(e,t)=>{g(s=>{let a=s.findIndex(t=>t.id===e.id);if(0===t)return s.filter(t=>t.id!==e.id);if(!(a>=0))return[...s,{...e,quantity:t}];{let e=[...s];return e[a]={...e[a],quantity:t},e}})},v=null===(s=n.addOns)||void 0===s?void 0:s.reduce((e,t)=>{let s=t.category;return e[s]||(e[s]=[]),e[s].push(t),e},{}),getMinPrice=()=>{if(n.isOnDiscount&&n.discountPrice)return n.discountPrice;if(n.variations&&n.variations.length>0){let e=Math.min(...n.variations.map(e=>e.price));return(n.effectivePrice||n.basePrice)+e}return n.effectivePrice||n.basePrice};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col ".concat(n.available?"":"opacity-60"),children:[(0,a.jsxs)("div",{className:"relative aspect-square rounded-2xl overflow-hidden transition-all duration-200 ".concat(n.available?"cursor-pointer active:scale-[0.98]":"cursor-not-allowed"),style:{backgroundColor:"#00704A"},onClick:n.available?()=>{}:void 0,children:[n.image?(0,a.jsx)("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover transition-transform duration-300",loading:"lazy",decoding:"async",onError:e=>{var t;e.currentTarget.style.display="none",null===(t=e.currentTarget.nextElementSibling)||void 0===t||t.classList.remove("hidden")}}):null,(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center ".concat(n.image?"hidden":""),children:(0,a.jsx)("div",{className:"text-4xl md:text-6xl opacity-30 text-white",children:"\uD83E\uDD64"})}),(n.isOnDiscount||n.popular)&&(0,a.jsxs)("div",{className:"absolute top-3 left-3 z-10",children:[n.isOnDiscount&&n.discountPrice&&(0,a.jsx)("span",{className:"inline-block bg-orange-500 text-white text-[10px] font-semibold px-2 py-0.5 rounded",children:"SALE"}),n.popular&&!n.isOnDiscount&&(0,a.jsx)("span",{className:"inline-block bg-orange-500 text-white text-[10px] font-semibold px-2 py-0.5 rounded",children:"POPULAR"})]}),n.available&&(0,a.jsx)("div",{className:"absolute bottom-3 right-3 z-10",children:0===o?(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),handleAddToCart()},className:"w-12 h-12 rounded-full bg-white shadow-[0_2px_8px_rgba(0,0,0,0.15)] flex items-center justify-center transition-all duration-200 hover:shadow-[0_4px_12px_rgba(0,0,0,0.2)] active:scale-95 touch-manipulation","aria-label":"Add to cart",children:(0,a.jsx)(d.Z,{className:"h-5 w-5 text-[#1E1E1E]",strokeWidth:2.5})}):(0,a.jsxs)("div",{className:"flex items-center gap-1.5 bg-white rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.15)] px-1 py-1 touch-manipulation",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),handleDecrement()},className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition-colors duration-200 active:scale-90","aria-label":"Decrease quantity",children:(0,a.jsx)(c,{className:"h-4 w-4 text-[#1E1E1E]",strokeWidth:2.5})}),(0,a.jsx)("span",{className:"font-semibold text-[#1E1E1E] text-sm min-w-[20px] text-center",children:o}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),handleIncrement()},className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition-colors duration-200 active:scale-90","aria-label":"Increase quantity",children:(0,a.jsx)(d.Z,{className:"h-4 w-4 text-[#1E1E1E]",strokeWidth:2.5})})]})})]}),(0,a.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,a.jsx)("h4",{className:"text-[18px] font-semibold text-[#1E1E1E] leading-tight line-clamp-2",style:{fontWeight:600},children:n.name}),(0,a.jsx)("p",{className:"text-[16px] text-[#666666]",style:{fontWeight:400},children:n.variations&&n.variations.length>0?(0,a.jsxs)(a.Fragment,{children:["from ₱",getMinPrice().toFixed(2)]}):n.isOnDiscount&&n.discountPrice?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"text-[#000000]",children:["₱",n.discountPrice.toFixed(2)]}),n.basePrice!==n.discountPrice&&(0,a.jsxs)("span",{className:"text-[#666666] line-through ml-2",children:["₱",n.basePrice.toFixed(2)]})]}):(0,a.jsxs)(a.Fragment,{children:["from ₱",getMinPrice().toFixed(2)]})})]})]}),x&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border-2 border-starrs-teal/20",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-starrs-mint-light to-starrs-teal-light border-b border-starrs-teal/30 p-6 flex items-center justify-between rounded-t-2xl",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-starrs-teal-dark",children:["Customize ",n.name]}),(0,a.jsx)("p",{className:"text-sm text-starrs-teal-dark/70 mt-1 font-medium",children:"Choose your preferences"})]}),(0,a.jsx)("button",{onClick:()=>h(!1),className:"p-2 hover:bg-starrs-teal/20 rounded-full transition-colors duration-200",children:(0,a.jsx)(m.Z,{className:"h-5 w-5 text-starrs-teal-dark"})})]}),(0,a.jsxs)("div",{className:"p-6",children:[n.variations&&n.variations.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"font-bold text-starrs-teal-dark mb-4",children:"Choose Flavor"}),(0,a.jsx)("div",{className:"space-y-3",children:n.variations.map(e=>(0,a.jsxs)("label",{className:"flex items-center justify-between p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 ".concat((null==p?void 0:p.id)===e.id?"border-starrs-teal bg-starrs-teal-light":"border-starrs-teal/30 hover:border-starrs-teal hover:bg-starrs-mint-light"),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"radio",name:"variation",checked:(null==p?void 0:p.id)===e.id,onChange:()=>b(e),className:"text-starrs-teal focus:ring-starrs-teal"}),(0,a.jsx)("span",{className:"font-semibold text-starrs-teal-dark",children:e.name})]}),(0,a.jsxs)("span",{className:"text-starrs-teal-dark font-bold",children:["₱",((n.effectivePrice||n.basePrice)+e.price).toFixed(2)]})]},e.id))})]}),v&&Object.keys(v).length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"font-bold text-starrs-teal-dark mb-4",children:"Add-ons"}),Object.entries(v).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h5",{className:"text-sm font-semibold text-starrs-teal-dark/80 mb-3 capitalize",children:t.replace("-"," ")}),(0,a.jsx)("div",{className:"space-y-3",children:s.map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-2 border-starrs-teal/20 rounded-xl hover:border-starrs-teal hover:bg-starrs-mint-light transition-all duration-200",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("span",{className:"font-semibold text-starrs-teal-dark",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-starrs-teal-dark/70",children:e.price>0?"₱".concat(e.price.toFixed(2)," each"):"Free"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:f.find(t=>t.id===e.id)?(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-starrs-teal-light rounded-xl p-1 border-2 border-starrs-teal/30",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{let t=f.find(t=>t.id===e.id);updateAddOnQuantity(e,((null==t?void 0:t.quantity)||1)-1)},className:"p-1.5 hover:bg-starrs-teal/20 rounded-lg transition-colors duration-200",children:(0,a.jsx)(c,{className:"h-3 w-3 text-starrs-teal-dark"})}),(0,a.jsx)("span",{className:"font-semibold text-starrs-teal-dark min-w-[24px] text-center text-sm",children:(null===(t=f.find(t=>t.id===e.id))||void 0===t?void 0:t.quantity)||0}),(0,a.jsx)("button",{type:"button",onClick:()=>{let t=f.find(t=>t.id===e.id);updateAddOnQuantity(e,((null==t?void 0:t.quantity)||0)+1)},className:"p-1.5 hover:bg-starrs-teal/20 rounded-lg transition-colors duration-200",children:(0,a.jsx)(d.Z,{className:"h-3 w-3 text-starrs-teal-dark"})})]}):(0,a.jsxs)("button",{type:"button",onClick:()=>updateAddOnQuantity(e,1),className:"flex items-center space-x-1 px-4 py-2 bg-gradient-to-r from-starrs-teal to-starrs-teal-dark text-white rounded-xl hover:from-starrs-teal-dark hover:to-starrs-teal-darker transition-all duration-200 text-sm font-semibold shadow-lg",children:[(0,a.jsx)(d.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Add"})]})})]},e.id)})})]},t)})]}),(0,a.jsx)("div",{className:"border-t-2 border-starrs-teal/20 pt-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-2xl font-bold text-starrs-teal-dark",children:[(0,a.jsx)("span",{children:"Total:"}),(0,a.jsxs)("span",{className:"text-starrs-green",children:["₱",calculatePrice().toFixed(2)]})]})}),(0,a.jsxs)("button",{onClick:()=>{let e=f.flatMap(e=>Array(e.quantity).fill({...e,quantity:void 0}));i(n,1,p,e),h(!1),g([])},className:"w-full bg-gradient-to-r from-starrs-teal to-starrs-teal-dark text-white py-4 rounded-xl hover:from-starrs-teal-dark hover:to-starrs-teal-darker transition-all duration-200 font-semibold flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5"}),(0,a.jsxs)("span",{children:["Add to Cart - ₱",calculatePrice().toFixed(2)]})]})]})]})})]})},components_MobileNav=e=>{let{activeCategory:t,onCategoryClick:s}=e,{categories:r}=(0,i.L)();return(0,a.jsx)("div",{className:"sticky top-16 z-40 bg-starrs-mint/95 backdrop-blur-sm border-b border-starrs-teal/30 md:hidden shadow-sm",children:(0,a.jsx)("div",{className:"flex overflow-x-auto scrollbar-hide px-4 py-3",children:r.map(e=>(0,a.jsxs)("button",{onClick:()=>s(e.id),className:"flex-shrink-0 flex items-center space-x-2 px-4 py-2 rounded-full mr-3 transition-all duration-200 ".concat(t===e.id?"bg-starrs-teal text-white shadow-md":"bg-white/80 text-starrs-teal-dark border border-starrs-teal/30 hover:bg-starrs-teal-light"),children:[(0,a.jsx)("span",{className:"text-lg",children:e.icon}),(0,a.jsx)("span",{className:"text-sm font-semibold whitespace-nowrap",children:e.name})]},e.id))})})};let preloadImages=e=>{e.forEach(e=>{if(e.image){let t=new Image;t.src=e.image}})};var components_Menu=e=>{let{menuItems:t,addToCart:s,cartItems:l,updateQuantity:n}=e,{categories:d}=(0,i.L)(),[o,c]=r.useState("hot-coffee");return r.useEffect(()=>{if(t.length>0){let e=t.filter(e=>e.category===o);preloadImages(e),setTimeout(()=>{let e=t.filter(e=>e.category!==o);preloadImages(e)},1e3)}},[t,o]),r.useEffect(()=>{if(d.length>0){let e=d.find(e=>"dim-sum"===e.id)||d[0];d.find(e=>e.id===o)||c(e.id)}},[d,o]),r.useEffect(()=>{let handleScroll=()=>{let e=d.map(e=>document.getElementById(e.id)).filter(Boolean),t=window.scrollY+200;for(let s=e.length-1;s>=0;s--){let a=e[s];if(a&&a.offsetTop<=t){c(d[s].id);break}}};return window.addEventListener("scroll",handleScroll),()=>window.removeEventListener("scroll",handleScroll)},[d]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(components_MobileNav,{activeCategory:o,onCategoryClick:e=>{c(e);let t=document.getElementById(e);if(t){let e=t.offsetTop-134;window.scrollTo({top:e,behavior:"smooth"})}}}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-6 md:py-12",children:[(0,a.jsxs)("div",{className:"text-center mb-6 md:mb-12",children:[(0,a.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-starrs-teal-dark mb-2 md:mb-4",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:"Our Menu"}),(0,a.jsx)("p",{className:"text-sm sm:text-base md:text-lg text-starrs-teal-dark/80 max-w-2xl mx-auto font-medium px-2",children:"Discover our premium milkshakes, decadent bake & shake creations, and refreshing yogurt-based options, all crafted with the finest ingredients."})]}),d.map(e=>{let r=t.filter(t=>t.category===e.id);return 0===r.length?null:(0,a.jsxs)("section",{id:e.id,className:"mb-8 md:mb-16",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4 md:mb-8",children:[(0,a.jsx)("span",{className:"text-3xl md:text-4xl mr-3 md:mr-4",children:e.icon}),(0,a.jsx)("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-starrs-teal-dark",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:e.name})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:r.map(e=>{let t=l.find(t=>t.id===e.id);return(0,a.jsx)(components_MenuItemCard,{item:e,onAddToCart:s,quantity:(null==t?void 0:t.quantity)||0,onUpdateQuantity:n},e.id)})})]},e.id)})]})]})},u=s(3067),x=s(5367),components_Cart=e=>{let{cartItems:t,updateQuantity:s,removeFromCart:r,clearCart:l,getTotalPrice:n,onContinueShopping:i,onCheckout:o}=e;return 0===t.length?(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-12",children:(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83E\uDD64"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-starrs-teal-dark mb-2",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:"Your cart is empty"}),(0,a.jsx)("p",{className:"text-starrs-teal-dark/70 mb-6 font-medium",children:"Add some delicious shakes to get started!"}),(0,a.jsx)("button",{onClick:i,className:"bg-starrs-teal text-white px-6 py-3 rounded-full hover:bg-starrs-teal-dark transition-all duration-200 font-semibold shadow-lg",children:"Browse Menu"})]})}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("button",{onClick:i,className:"flex items-center space-x-2 text-starrs-teal-dark hover:text-starrs-teal-darker transition-colors duration-200 font-medium",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Continue Shopping"})]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-starrs-teal-dark",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:"Your Cart"}),(0,a.jsx)("button",{onClick:l,className:"text-starrs-green hover:text-starrs-green-dark transition-colors duration-200 font-medium",children:"Clear All"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-md border-2 border-starrs-teal/20 overflow-hidden mb-8",children:t.map((e,l)=>(0,a.jsx)("div",{className:"p-6 ".concat(l!==t.length-1?"border-b border-starrs-teal/20":""),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-starrs-teal-dark mb-1",children:e.name}),e.selectedVariation&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["Size: ",e.selectedVariation.name]}),e.selectedAddOns&&e.selectedAddOns.length>0&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["Add-ons: ",e.selectedAddOns.map(e=>e.quantity&&e.quantity>1?"".concat(e.name," x").concat(e.quantity):e.name).join(", ")]}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-starrs-teal-dark",children:["₱",e.totalPrice," each"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 ml-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 bg-starrs-teal-light rounded-full p-1 border-2 border-starrs-teal/30",children:[(0,a.jsx)("button",{onClick:()=>s(e.id,e.quantity-1),className:"p-2 hover:bg-starrs-teal/20 rounded-full transition-colors duration-200",children:(0,a.jsx)(c,{className:"h-4 w-4 text-starrs-teal-dark"})}),(0,a.jsx)("span",{className:"font-semibold text-starrs-teal-dark min-w-[32px] text-center",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>s(e.id,e.quantity+1),className:"p-2 hover:bg-starrs-teal/20 rounded-full transition-colors duration-200",children:(0,a.jsx)(d.Z,{className:"h-4 w-4 text-starrs-teal-dark"})})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"text-lg font-semibold text-starrs-teal-dark",children:["₱",e.totalPrice*e.quantity]})}),(0,a.jsx)("button",{onClick:()=>r(e.id),className:"p-2 text-starrs-green hover:text-starrs-green-dark hover:bg-starrs-green/10 rounded-full transition-all duration-200",children:(0,a.jsx)(x.Z,{className:"h-4 w-4"})})]})]})},e.id))}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md border-2 border-starrs-teal/20 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-2xl font-bold text-starrs-teal-dark mb-6",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:[(0,a.jsx)("span",{children:"Total:"}),(0,a.jsxs)("span",{className:"text-starrs-green",children:["₱",(n()||0).toFixed(2)]})]}),(0,a.jsx)("button",{onClick:o,className:"w-full bg-gradient-to-r from-starrs-teal to-starrs-teal-dark text-white py-4 rounded-xl hover:from-starrs-teal-dark hover:to-starrs-teal-darker transition-all duration-200 transform hover:scale-[1.02] font-semibold text-lg shadow-lg",children:"Proceed to Checkout"})]})]})},h=s(6141),p=s(1827);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,o.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var f=s(3155),g=s(1675),v=s(7863),j=s(9093),components_Checkout=e=>{let{cartItems:t,totalPrice:s,onBack:l}=e,{paymentMethods:i}=(0,f.E)(),{createOrder:d}=(0,g.y)(),[o,c]=(0,r.useState)("details"),[m,x]=(0,r.useState)(!1),[y,N]=(0,r.useState)(null),[k,w]=(0,r.useState)(""),[C,D]=(0,r.useState)(""),[P,E]=(0,r.useState)("dine-in"),[S,A]=(0,r.useState)(""),[F,q]=(0,r.useState)(""),[O,_]=(0,r.useState)(!1),[T,I]=(0,r.useState)(-1),M=(0,r.useRef)(null),L=(0,r.useRef)(null),{suggestions:V,loading:Z,error:B}=(0,v.l)("delivery"===P?F:""),[z,Q]=(0,r.useState)(""),[R,X]=(0,r.useState)("5-10"),[U,W]=(0,r.useState)(""),[Y,H]=(0,r.useState)("gcash"),[J,K]=(0,r.useState)(""),[$,G]=(0,r.useState)(""),[ee,et]=(0,r.useState)(null),[es,ea]=(0,r.useState)(null),[er,el]=(0,r.useState)(null),[en,ei]=(0,r.useState)("PHP"),[ed,eo]=(0,r.useState)(!1),[ec,em]=(0,r.useState)(null),{siteSettings:eu}=(0,n.h)(),ex=(0,r.useMemo)(()=>(0,j.lN)(eu),[eu]);r.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[o]),r.useEffect(()=>{i.length>0&&!Y&&H(i[0].id)},[i,Y]),r.useEffect(()=>{V.length>0&&F.length>=3&&"delivery"===P&&_(!0)},[V,F,P]);let eh=i.find(e=>e.id===Y),ep="delivery"===P&&null!=es?es:0,eb=s+ep,ef=ed?"Calculating...":ec?"Unavailable":null!==es?"₱".concat(es):"Pending",handlePlaceOrder=async()=>{x(!0),N(null);try{let e=await d(t,k,C,P,Y,eb,{address:"delivery"===P?S:void 0,landmark:"delivery"===P?z:void 0,pickupTime:"pickup"===P?"custom"===R?U:"".concat(R," minutes"):void 0,referenceNumber:J||void 0,notes:$||void 0,deliveryFee:"delivery"===P&&null!=es?es:void 0,lalamoveQuotationId:"delivery"===P&&null!=er?er:void 0,deliveryLat:"delivery"===P?null==ee?void 0:ee.lat:void 0,deliveryLng:"delivery"===P?null==ee?void 0:ee.lng:void 0}),s="pickup"===P?"custom"===R?U:"".concat(R," minutes"):"",a="\n\uD83D\uDED2 Starr's Famous Shakes ORDER\n\uD83D\uDCE6 Order Number: ".concat(e.order_number,"\n\n\uD83D\uDC64 Customer: ").concat(k,"\n\uD83D\uDCDE Contact: ").concat(C,"\n\uD83D\uDCCD Service: ").concat(P.charAt(0).toUpperCase()+P.slice(1),"\n ").concat("delivery"===P?"\uD83C\uDFE0 Address: ".concat(S).concat(z?"\n\uD83D\uDDFA️ Landmark: ".concat(z):""):"","\n").concat("pickup"===P?"⏰ Pickup Time: ".concat(s):"","\n\uD83D\uDCCB ORDER DETAILS:\n").concat(t.map(e=>{let t="• ".concat(e.name);return e.selectedVariation&&(t+=" (".concat(e.selectedVariation.name,")")),e.selectedAddOns&&e.selectedAddOns.length>0&&(t+=" + ".concat(e.selectedAddOns.map(e=>e.quantity&&e.quantity>1?"".concat(e.name," x").concat(e.quantity):e.name).join(", "))),t+=" x".concat(e.quantity," - ₱").concat(e.totalPrice*e.quantity)}).join("\n"),"\n\n\uD83D\uDCB0 TOTAL: ₱").concat(eb,"\n").concat("delivery"===P?"\uD83D\uDEF5 DELIVERY FEE: ".concat(ef):"","\n\n\uD83D\uDCB3 Payment: ").concat((null==eh?void 0:eh.name)||Y,"\n\uD83D\uDCF8 Payment Screenshot: Please attach your payment receipt screenshot\n\n").concat($?"\uD83D\uDCDD Notes: ".concat($):"","\n\nPlease confirm this order to proceed. Thank you for choosing Starr's Famous Shakes! \uD83E\uDD5F\n      ").trim(),r=encodeURIComponent(a),l="https://m.me/StarrsFamousShakes?text=".concat(r);alert("Order placed successfully!\n\nOrder Number: ".concat(e.order_number,"\n\nYou will now be redirected to Messenger to confirm your order.")),window.open(l,"_blank")}catch(t){console.error("Error placing order:",t);let e=t instanceof Error?t.message:"Failed to place order. Please try again.";N(e),e.includes("Rate limit")||e.includes("wait")?alert("⚠️ ".concat(e,"\n\nPlease wait before trying again.")):alert("❌ ".concat(e))}finally{x(!1)}},handleAddressSelect=e=>{A(e.display_name),q(e.display_name),_(!1),I(-1);let t=parseFloat(e.lat),s=parseFloat(e.lon);Number.isNaN(t)||Number.isNaN(s)?et(null):et({lat:t,lng:s})};(0,r.useEffect)(()=>{let handleClickOutside=e=>{M.current&&!M.current.contains(e.target)&&L.current&&!L.current.contains(e.target)&&_(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)},[]),(0,r.useEffect)(()=>{"delivery"!==P&&(q(""),_(!1),A(""),et(null),ea(null),el(null),em(null))},[P]),(0,r.useEffect)(()=>{if("delivery"!==P||!S||!ee||!ex){ea(null),el(null),em(null),eo(!1),ei("PHP");return}let e=!1;eo(!0),em(null);let fetchQuote=async()=>{try{let t=await (0,j.$Y)(S,ee,ex);if(e)return;ea(t.price),el(t.quotationId),ei(t.currency)}catch(t){if(e)return;console.error("Failed to fetch delivery quote:",t),ea(null),el(null),em(t instanceof Error?t.message:"Unable to calculate delivery fee"),ei("PHP")}finally{e||eo(!1)}};return fetchQuote(),()=>{e=!0}},[P,S,ee,ex]);let eg=k&&C&&("delivery"!==P||S&&null!==es)&&("pickup"!==P||"custom"!==R||U);return"details"===o?(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-8",children:[(0,a.jsxs)("button",{onClick:l,className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors duration-200",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Back to Cart"})]}),(0,a.jsx)("h1",{className:"text-3xl font-noto font-semibold text-black ml-8",children:"Order Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-noto font-medium text-black mb-6",children:"Order Summary"}),(0,a.jsx)("div",{className:"space-y-4 mb-6",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-red-100",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-black",children:e.name}),e.selectedVariation&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Size: ",e.selectedVariation.name]}),e.selectedAddOns&&e.selectedAddOns.length>0&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Add-ons: ",e.selectedAddOns.map(e=>e.name).join(", ")]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["₱",e.totalPrice," x ",e.quantity]})]}),(0,a.jsxs)("span",{className:"font-semibold text-black",children:["₱",e.totalPrice*e.quantity]})]},e.id))}),"delivery"===P&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 border-t border-red-200 pt-4",children:[(0,a.jsxs)("span",{children:["Delivery Fee (",en,")"]}),(0,a.jsx)("span",{className:"font-semibold text-black",children:ef})]}),"delivery"===P&&ec&&(0,a.jsx)("p",{className:"text-xs text-red-600 mt-1",children:ec}),(0,a.jsx)("div",{className:"border-t border-red-200 pt-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-2xl font-noto font-semibold text-black",children:[(0,a.jsx)("span",{children:"Total:"}),(0,a.jsxs)("span",{children:["₱",eb]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-noto font-medium text-black mb-6",children:"Customer Information"}),(0,a.jsxs)("form",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Full Name *"}),(0,a.jsx)("input",{type:"text",value:k,onChange:e=>w(e.target.value),className:"w-full px-4 py-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your full name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Contact Number *"}),(0,a.jsx)("input",{type:"tel",value:C,onChange:e=>{let t=e.target.value.replace(/\D/g,"");t.length>0&&(t.startsWith("63")||(t.startsWith("0")?t="63"+t.slice(1):(t.startsWith("9"),t="63"+t)),t.length>13&&(t=t.slice(0,13))),D(t)},className:"w-full px-4 py-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"63XXXXXXXXXX",required:!0}),C&&!C.startsWith("63")&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"Phone number will be normalized to start with 63"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-black mb-3",children:"Service Type *"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{value:"dine-in",label:"Dine In",icon:"\uD83E\uDE91"},{value:"pickup",label:"Pickup",icon:"\uD83D\uDEB6"},{value:"delivery",label:"Delivery",icon:"\uD83D\uDEF5"}].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>E(e.value),className:"p-4 rounded-lg border-2 transition-all duration-200 ".concat(P===e.value?"border-red-600 bg-red-600 text-white":"border-red-300 bg-white text-gray-700 hover:border-red-400"),children:[(0,a.jsx)("div",{className:"text-2xl mb-1",children:e.icon}),(0,a.jsx)("div",{className:"text-sm font-medium",children:e.label})]},e.value))})]}),"pickup"===P&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-black mb-3",children:"Pickup Time *"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{value:"5-10",label:"5-10 minutes"},{value:"15-20",label:"15-20 minutes"},{value:"25-30",label:"25-30 minutes"},{value:"custom",label:"Custom Time"}].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>X(e.value),className:"p-3 rounded-lg border-2 transition-all duration-200 text-sm ".concat(R===e.value?"border-red-600 bg-red-600 text-white":"border-red-300 bg-white text-gray-700 hover:border-red-400"),children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mx-auto mb-1"}),e.label]},e.value))}),"custom"===R&&(0,a.jsx)("input",{type:"text",value:U,onChange:e=>W(e.target.value),className:"w-full px-4 py-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., 45 minutes, 1 hour, 2:30 PM",required:!0})]})]}),"delivery"===P&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Delivery Address *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:(0,a.jsx)(p.Z,{className:"h-5 w-5"})}),(0,a.jsx)("input",{ref:M,type:"text",value:F,onChange:e=>{let t=e.target.value;q(t),A(t),_(!0),I(-1),et(null)},onKeyDown:e=>{if(O&&0!==V.length)switch(e.key){case"ArrowDown":e.preventDefault(),I(e=>e<V.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),I(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),T>=0&&T<V.length&&handleAddressSelect(V[T]);break;case"Escape":_(!1),I(-1)}},onFocus:()=>_(!0),className:"w-full pl-10 pr-10 py-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"Search address, village, barangay, or landmark...",required:!0}),Z&&(0,a.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)(b,{className:"h-5 w-5 text-red-600 animate-spin"})})]}),O&&F.length>=3&&(0,a.jsxs)("div",{ref:L,className:"absolute z-50 w-full mt-1 bg-white border border-red-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[B&&(0,a.jsxs)("div",{className:"p-3 text-sm text-red-600 border-b border-red-100",children:[B,(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"You can still enter your address manually."})]}),!B&&0===V.length&&!Z&&(0,a.jsx)("div",{className:"p-3 text-sm text-gray-500 text-center",children:"No addresses found. You can enter your address manually."}),V.map((e,t)=>{let s=(()=>{if(e.address.house_number&&e.address.road)return"".concat(e.address.house_number," ").concat(e.address.road);if(e.address.amenity||e.address.shop||e.address.tourism){let t=e.address.amenity||e.address.shop||e.address.tourism;if(t)return t.charAt(0).toUpperCase()+t.slice(1).replace(/_/g," ")}return e.address.road?e.address.road:e.address.barangay||e.address.village?e.address.barangay||e.address.village||"":e.display_name.split(",")[0]})(),r=[e.address.barangay||e.address.village,e.address.suburb,e.address.neighbourhood,e.address.city||e.address.town||e.address.municipality,e.address.province||e.address.state].filter(Boolean),l=r.length>0?r.join(", ")+(e.address.postcode?" ".concat(e.address.postcode):""):e.display_name.split(",").slice(1).join(",").trim();return(0,a.jsxs)("button",{type:"button",onClick:()=>handleAddressSelect(e),className:"w-full text-left px-4 py-3 hover:bg-red-50 transition-colors duration-200 border-b border-red-100 last:border-b-0 ".concat(t===T?"bg-red-50":""),children:[(0,a.jsx)("div",{className:"font-medium text-black text-sm",children:s}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:l}),(e.address.amenity||e.address.shop||e.address.tourism)&&(0,a.jsx)("div",{className:"text-xs text-red-600 mt-1 font-medium",children:"\uD83D\uDCCD Landmark"})]},e.place_id)})]}),F.length>0&&F.length<3&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Type at least 3 characters to search"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Landmark"}),(0,a.jsx)("input",{type:"text",value:z,onChange:e=>Q(e.target.value),className:"w-full px-4 py-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., Near McDonald's, Beside 7-Eleven, In front of school"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Special Instructions"}),(0,a.jsx)("textarea",{value:$,onChange:e=>G(e.target.value),className:"w-full px-4 py-3 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"Any special requests or notes...",rows:3})]}),(0,a.jsx)("button",{onClick:()=>{c("payment")},disabled:!eg,className:"w-full py-4 rounded-xl font-medium text-lg transition-all duration-200 transform ".concat(eg?"bg-red-600 text-white hover:bg-red-700 hover:scale-[1.02]":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Proceed to Payment"})]})]})]})]}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-8",children:[(0,a.jsxs)("button",{onClick:()=>c("details"),className:"flex items-center space-x-2 text-gray-600 hover:text-black transition-colors duration-200",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Back to Details"})]}),(0,a.jsx)("h1",{className:"text-3xl font-noto font-semibold text-black ml-8",children:"Payment"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-noto font-medium text-black mb-6",children:"Choose Payment Method"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:i.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>H(e.id),className:"p-4 rounded-lg border-2 transition-all duration-200 flex items-center space-x-3 ".concat(Y===e.id?"border-red-600 bg-red-600 text-white":"border-red-300 bg-white text-gray-700 hover:border-red-400"),children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCB3"}),(0,a.jsx)("span",{className:"font-medium",children:e.name})]},e.id))}),eh&&(0,a.jsxs)("div",{className:"bg-red-50 rounded-lg p-6 mb-6",children:[(0,a.jsx)("h3",{className:"font-medium text-black mb-4",children:"Payment Details"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:eh.name}),(0,a.jsx)("p",{className:"font-mono text-black font-medium",children:eh.account_number}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["Account Name: ",eh.account_name]}),(0,a.jsxs)("p",{className:"text-xl font-semibold text-black",children:["Amount: ₱",eb]})]}),(0,a.jsxs)("div",{className:"flex-shrink-0",children:[(0,a.jsx)("img",{src:eh.qr_code_url,alt:"".concat(eh.name," QR Code"),className:"w-32 h-32 rounded-lg border-2 border-red-300 shadow-sm",onError:e=>{e.currentTarget.src="https://images.pexels.com/photos/8867482/pexels-photo-8867482.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop"}}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Scan to pay"})]})]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-black mb-2",children:"\uD83D\uDCF8 Payment Proof Required"}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:"After making your payment, please take a screenshot of your payment receipt and attach it when you send your order via Messenger. This helps us verify and process your order quickly."})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-noto font-medium text-black mb-6",children:"Final Order Summary"}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-red-50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-black mb-2",children:"Customer Details"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Name: ",k]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Contact: ",C]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Service: ",P.charAt(0).toUpperCase()+P.slice(1)]}),"delivery"===P&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Address: ",S]}),z&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Landmark: ",z]})]}),"pickup"===P&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Pickup Time: ","custom"===R?U:"".concat(R," minutes")]})]}),t.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-red-100",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-black",children:e.name}),e.selectedVariation&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Size: ",e.selectedVariation.name]}),e.selectedAddOns&&e.selectedAddOns.length>0&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Add-ons: ",e.selectedAddOns.map(e=>e.quantity&&e.quantity>1?"".concat(e.name," x").concat(e.quantity):e.name).join(", ")]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["₱",e.totalPrice," x ",e.quantity]})]}),(0,a.jsxs)("span",{className:"font-semibold text-black",children:["₱",e.totalPrice*e.quantity]})]},e.id))]}),"delivery"===P&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 border-b border-red-100 pb-2 mb-2",children:[(0,a.jsxs)("span",{children:["Delivery Fee (",en,")"]}),(0,a.jsx)("span",{className:"font-semibold text-black",children:ef})]}),"delivery"===P&&ec&&(0,a.jsx)("p",{className:"text-xs text-red-600 mb-3",children:ec}),(0,a.jsx)("div",{className:"border-t border-red-200 pt-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-2xl font-noto font-semibold text-black",children:[(0,a.jsx)("span",{children:"Total:"}),(0,a.jsxs)("span",{children:["₱",eb]})]})}),y&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:y})}),(0,a.jsx)("button",{onClick:handlePlaceOrder,disabled:m,className:"w-full py-4 rounded-xl font-medium text-lg transition-all duration-200 transform ".concat(m?"bg-gray-400 text-white cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700 hover:scale-[1.02]"),children:m?"Placing Order...":"Place Order via Messenger"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center mt-3",children:"You'll be redirected to Facebook Messenger to confirm your order. Don't forget to attach your payment screenshot!"})]})]})]})},components_FloatingCartButton=e=>{let{itemCount:t,onCartClick:s}=e;return 0===t?null:(0,a.jsx)("button",{onClick:s,className:"fixed bottom-6 right-6 bg-gradient-to-r from-starrs-teal to-starrs-teal-dark text-white p-4 rounded-full shadow-lg hover:from-starrs-teal-dark hover:to-starrs-teal-darker transition-all duration-200 transform hover:scale-110 z-40 md:hidden",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.Z,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"absolute -top-2 -right-2 bg-starrs-green text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-bold shadow-md",children:t})]})})};let useCart=()=>{let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(!1),l=(0,r.useCallback)((e,t,s)=>{let a=e.basePrice;return t&&(a+=t.price),s&&s.forEach(e=>{a+=e.price}),a},[]),n=(0,r.useCallback)(function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=l(e,a,r),i=null==r?void 0:r.reduce((e,t)=>{let s=e.find(e=>e.id===t.id);return s?s.quantity=(s.quantity||1)+1:e.push({...t,quantity:1}),e},[]);t(t=>{let l=t.find(t=>{var s,r;return t.id===e.id&&(null===(s=t.selectedVariation)||void 0===s?void 0:s.id)===(null==a?void 0:a.id)&&JSON.stringify(null===(r=t.selectedAddOns)||void 0===r?void 0:r.map(e=>"".concat(e.id,"-").concat(e.quantity||1)).sort())===JSON.stringify(null==i?void 0:i.map(e=>"".concat(e.id,"-").concat(e.quantity)).sort())});if(l)return t.map(e=>e===l?{...e,quantity:e.quantity+s}:e);{let l="".concat(e.id,"-").concat((null==a?void 0:a.id)||"default","-").concat((null==r?void 0:r.map(e=>e.id).join(","))||"none");return[...t,{...e,id:l,quantity:s,selectedVariation:a,selectedAddOns:i||[],totalPrice:n}]}})},[l]),i=(0,r.useCallback)((e,s)=>{if(s<=0){t(t=>t.filter(t=>t.id!==e));return}t(t=>t.map(t=>t.id===e?{...t,quantity:s}:t))},[]),d=(0,r.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),o=(0,r.useCallback)(()=>{t([])},[]),c=(0,r.useCallback)(()=>e.reduce((e,t)=>e+t.totalPrice*t.quantity,0),[e]),m=(0,r.useCallback)(()=>e.reduce((e,t)=>e+t.quantity,0),[e]),u=(0,r.useCallback)(()=>a(!0),[]),x=(0,r.useCallback)(()=>a(!1),[]);return{cartItems:e,isCartOpen:s,addToCart:n,updateQuantity:i,removeFromCart:d,clearCart:o,getTotalPrice:c,getTotalItems:m,openCart:u,closeCart:x}};var y=s(6827),page=()=>{let e=useCart(),{menuItems:t}=(0,y.H)(),[s,l]=r.useState("menu"),handleViewChange=e=>{l(e)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-starrs-mint-light to-starrs-cream-light font-inter",children:[(0,a.jsx)(components_Header,{cartItemsCount:e.getTotalItems(),onCartClick:()=>handleViewChange("cart"),onMenuClick:()=>handleViewChange("menu")}),"menu"===s&&(0,a.jsx)(components_Menu,{menuItems:t,addToCart:e.addToCart,cartItems:e.cartItems,updateQuantity:e.updateQuantity}),"cart"===s&&(0,a.jsx)(components_Cart,{cartItems:e.cartItems,updateQuantity:e.updateQuantity,removeFromCart:e.removeFromCart,clearCart:e.clearCart,getTotalPrice:e.getTotalPrice,onContinueShopping:()=>handleViewChange("menu"),onCheckout:()=>handleViewChange("checkout")}),"checkout"===s&&(0,a.jsx)(components_Checkout,{cartItems:e.cartItems,totalPrice:e.getTotalPrice(),onBack:()=>handleViewChange("cart")}),"menu"===s&&(0,a.jsx)(components_FloatingCartButton,{itemCount:e.getTotalItems(),onCartClick:()=>handleViewChange("cart")})]})}}},function(e){e.O(0,[801,605,971,472,744],function(){return e(e.s=6858)}),_N_E=e.O()}]);